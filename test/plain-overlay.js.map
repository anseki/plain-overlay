{"version":3,"sources":["webpack:///webpack/bootstrap dc249b14ddf326e7d86f","webpack:///./src/plain-overlay.js","webpack:///./node_modules/cssprefix/src/cssprefix.js","webpack:///./node_modules/anim-event/src/anim-event.js","webpack:///./node_modules/m-class-list/src/m-class-list.js","webpack:///./src/default.scss","webpack:///./src/face.html","webpack:///./src/face.html?c42a"],"names":["ignoreNative","APP_ID","STYLE_ELEMENT_ID","STYLE_CLASS","STYLE_CLASS_DOC","STYLE_CLASS_SHOW","STYLE_CLASS_HIDE","STYLE_CLASS_BODY","FACE_DEFS_ELEMENT_ID","STATE_HIDDEN","STATE_SHOWING","STATE_SHOWN","STATE_HIDING","DURATION","TOLERANCE","IS_TRIDENT","document","uniqueID","IS_EDGE","documentElement","style","window","navigator","msPointerEnabled","IS_WEBKIT","chrome","IS_BLINK","webstore","IS_GECKO","isObject","toString","fnToString","hasOwnProperty","objFnString","call","Object","proto","constr","obj","getPrototypeOf","constructor","isFinite","Number","value","insProps","insId","forceReflow","target","setTimeout","parent","parentNode","next","nextSibling","insertBefore","removeChild","setStyle","element","styleProps","savedStyleProps","propNames","keys","forEach","prop","restoreStyle","getBBox","rect","getBoundingClientRect","bBox","left","top","right","bottom","width","height","pageXOffset","pageYOffset","scrollLeft","isDoc","scrollTo","scrollTop","resizeTarget","props","elmTargetBody","Math","abs","targetBodyCmpStyle","getComputedStyle","boxSizing","includeProps","PROP_NAMES","border","padding","values","reduce","dir","part","parseFloat","propName","savedStyleTargetBody","fixStyle","console","warn","getDocClientWH","elmTarget","clientWidth","clientHeight","wMode","writingMode","direction","restoreScroll","scrollElement","error","log","savedElementsScroll","some","elementScroll","restoreAccKeys","savedElementsAccKeys","elementAccKeys","tabIndex","removeAttribute","accessKey","avoidFocus","ownerDocument","body","elmOverlay","compareDocumentPosition","Node","DOCUMENT_POSITION_CONTAINED_BY","blur","focus","selContainsNode","selection","node","partialContainment","nodeRange","createRange","iLen","rangeCount","selectNodeContents","i","selRange","getRangeAt","compareBoundaryPoints","Range","START_TO_END","END_TO_START","START_TO_START","END_TO_END","nodeContainsSel","selectNode","avoidSelect","getSelection","elmOverlayBody","containsNode","removeAllRanges","barLeft","svgSpec","barTop","disableDocBars","targetBodyRect","clientWH","barV","barH","overflow","savedStyleTarget","propV","propH","addStyle","position","targetBodyBBox","overlayCmpStyle","overlayBBox","borders","toLowerCase","offset","reValue","hBorder","vBorder","getName","corner","split","h","v","matches","exec","getTargetElements","targetElements","push","Array","prototype","slice","childNodes","childNode","nodeType","ELEMENT_NODE","contains","id","apply","querySelectorAll","finishShowing","state","options","onShow","ins","finishHiding","add","activeElement","onHide","show","getScroll","elements","fromDoc","elementCanScroll","cmpStyle","tagName","nodeName","overflowX","overflowY","elementsScroll","disableAccKeys","hasAttribute","onBeforeShow","remove","display","disabledDocBars","length","offsetWidth","filterElements","propValue","getValue","filter","map","savedStyle","filterElement","onPosition","hide","force","onBeforeHide","setOptions","newOptions","face","firstChild","appendChild","elmDocument","getElementById","defsSvg","DOMParser","parseFromString","innerHTML","duration","option","scroll","dirLeft","curValue","indexOf","find","found","PlainOverlay","getTarget","validElement","DOCUMENT_NODE","contentDocument","Error","defineProperty","_id","arguments","defaultView","head","getElementsByTagName","sheet","createElement","type","textContent","addEventListener","listener","event","propertyName","preventDefault","stopImmediatePropagation","resizing","lastBBox","className","ucf","text","substr","toUpperCase","PREFIXES","NAME_PREFIXES","prefixes","prefix","VALUE_PREFIXES","getDeclaration","declaration","normalizeName","rePrefixedName","RegExp","join","reUc","replace","str","p1","test","normalizeValue","rePrefixedValue","cssSupports","setProperty","getPropertyValue","propValues","getNameDone","ucfName","prefixed","res","isArray","getValueDone","CSSPrefix","MSPF","KEEP_LOOP","tasks","requestAnim","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","callback","cancelAnim","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","requestID","lastFrameTime","Date","now","requestAnimSave","cancelAnimSave","AnimEventByTimer","byTimer","step","called","task","indexOfTasks","index","AnimEvent","iRemove","splice","normalize","token","trim","applyList","list","setAttribute","tokens","toggle","newToken","mClassList","classList","getAttribute","item"],"mappings":"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","file":"plain-overlay.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dc249b14ddf326e7d86f","/*\n * PlainOverlay\n * https://anseki.github.io/plain-overlay/\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nimport CSSPrefix from 'cssprefix';\nimport AnimEvent from 'anim-event';\nimport mClassList from 'm-class-list';\nimport CSS_TEXT from './default.scss';\n// [FACE]\nimport FACE_DEFS from './face.html?tag=defs';\nimport FACE_01 from './face.html?tag=face_01';\n// [/FACE]\nmClassList.ignoreNative = true;\n\nconst\n  APP_ID = 'plainoverlay',\n  STYLE_ELEMENT_ID = `${APP_ID}-style`,\n  STYLE_CLASS = APP_ID,\n  STYLE_CLASS_DOC = `${APP_ID}-doc`,\n  STYLE_CLASS_SHOW = `${APP_ID}-show`,\n  STYLE_CLASS_HIDE = `${APP_ID}-hide`,\n  STYLE_CLASS_BODY = `${APP_ID}-body`,\n  FACE_DEFS_ELEMENT_ID = `${APP_ID}-builtin-face-defs`,\n\n  STATE_HIDDEN = 0, STATE_SHOWING = 1, STATE_SHOWN = 2, STATE_HIDING = 3,\n  // DURATION = 2500, // COPY: default.scss\n  DURATION = 200, // COPY: default.scss\n  TOLERANCE = 0.5,\n\n  IS_TRIDENT = !!document.uniqueID,\n  IS_EDGE = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,\n  IS_WEBKIT = !window.chrome && 'WebkitAppearance' in document.documentElement.style, // [DEBUG/]\n  IS_BLINK = !!(window.chrome && window.chrome.webstore), // [DEBUG/]\n  IS_GECKO = 'MozAppearance' in document.documentElement.style, // [DEBUG/]\n\n  isObject = (() => {\n    const toString = {}.toString, fnToString = {}.hasOwnProperty.toString,\n      objFnString = fnToString.call(Object);\n    return obj => {\n      let proto, constr;\n      return obj && toString.call(obj) === '[object Object]' &&\n        (!(proto = Object.getPrototypeOf(obj)) ||\n          (constr = proto.hasOwnProperty('constructor') && proto.constructor) &&\n          typeof constr === 'function' && fnToString.call(constr) === objFnString);\n    };\n  })(),\n  isFinite = Number.isFinite || (value => typeof value === 'number' && window.isFinite(value)),\n\n  /**\n   * An object that has properties of instance.\n   * @typedef {Object} props\n   * @property {Element} elmTarget - Target element.\n   * @property {Element} elmTargetBody - Target body element.\n   * @property {Element} elmOverlay - Overlay element.\n   * @property {Element} elmOverlayBody - Overlay body element.\n   * @property {boolean} isDoc - `true` if target is document.\n   * @property {Window} window - Window that conatins target element.\n   * @property {HTMLDocument} document - Document that conatins target element.\n   * @property {number} state - Current state.\n   * @property {Object} options - Options.\n   */\n\n  /** @type {Object.<_id: number, props>} */\n  insProps = {};\n\nlet insId = 0;\n\n// [DEBUG]\nwindow.insProps = insProps;\nwindow.IS_TRIDENT = IS_TRIDENT;\nwindow.IS_EDGE = IS_EDGE;\nwindow.IS_WEBKIT = IS_WEBKIT;\nwindow.IS_BLINK = IS_BLINK;\nwindow.IS_GECKO = IS_GECKO;\n// [/DEBUG]\n\nfunction forceReflow(target) {\n  // Trident and Blink bug (reflow like `offsetWidth` can't update)\n  setTimeout(() => {\n    const parent = target.parentNode, next = target.nextSibling;\n    // It has to be removed first for Blink.\n    parent.insertBefore(parent.removeChild(target), next);\n  }, 0);\n}\nwindow.forceReflow = forceReflow; // [DEBUG/]\n\n/**\n * Set style properties while saving current properties.\n * @param {Element} element - Target element.\n * @param {Object} styleProps - New style properties.\n * @param {(Object|null)} savedStyleProps - Current style properties holder.\n * @param {Array} [propNames] - Names of target properties.\n * @returns {Element} Target element itself.\n */\nfunction setStyle(element, styleProps, savedStyleProps, propNames) {\n  const style = element.style;\n  (propNames || Object.keys(styleProps)).forEach(prop => {\n    if (styleProps[prop] != null) {\n      if (savedStyleProps && savedStyleProps[prop] == null) {\n        savedStyleProps[prop] = style[prop];\n      }\n      style[prop] = styleProps[prop];\n      styleProps[prop] = null;\n    }\n  });\n  return element;\n}\n\n/**\n * Restore saved style properties.\n * @param {Element} element - Target element.\n * @param {Object} savedStyleProps - Saved style properties.\n * @param {Array} [propNames] - Names of properties that is restored.\n * @returns {Element} Target element itself.\n */\nfunction restoreStyle(element, savedStyleProps, propNames) {\n  return setStyle(element, savedStyleProps, null, propNames);\n}\n\n/**\n * An object that simulates `DOMRect` to indicate a bounding-box.\n * @typedef {Object} BBox\n * @property {(number|null)} left - document coordinate\n * @property {(number|null)} top - document coordinate\n * @property {(number|null)} right - document coordinate\n * @property {(number|null)} bottom - document coordinate\n * @property {(number|null)} width\n * @property {(number|null)} height\n */\n\n/**\n * Get an element's bounding-box that contains coordinates relative to the element's document or window.\n * @param {Element} element - Target element.\n * @param {Window} [window] - Whether it's relative to the element's window, or document.\n * @returns {(BBox|null)} - A bounding-box or null when failed.\n */\nfunction getBBox(element, window) {\n  const rect = element.getBoundingClientRect(),\n    bBox = {left: rect.left, top: rect.top,\n      right: rect.right, bottom: rect.bottom, width: rect.width, height: rect.height};\n  if (window) {\n    bBox.left += window.pageXOffset;\n    bBox.right += window.pageXOffset;\n    bBox.top += window.pageYOffset;\n    bBox.bottom += window.pageYOffset;\n  }\n  return bBox;\n}\nwindow.getBBox = getBBox; // [DEBUG/]\n\nfunction scrollLeft(element, isDoc, window, value) {\n  if (isDoc) {\n    const target = window;\n    if (value != null) { target.scrollTo(value, target.pageYOffset); }\n    return target.pageXOffset;\n  } else {\n    const target = element;\n    if (value != null) { target.scrollLeft = value; }\n    return target.scrollLeft;\n  }\n}\nwindow.scrollLeft = scrollLeft; // [DEBUG/]\n\nfunction scrollTop(element, isDoc, window, value) {\n  if (isDoc) {\n    const target = window;\n    if (value != null) { target.scrollTo(target.pageXOffset, value); }\n    return target.pageYOffset;\n  } else {\n    const target = element;\n    if (value != null) { target.scrollTop = value; }\n    return target.scrollTop;\n  }\n}\nwindow.scrollTop = scrollTop; // [DEBUG/]\n\nfunction resizeTarget(props, width, height) {\n  const elmTargetBody = props.elmTargetBody;\n\n  let rect = elmTargetBody.getBoundingClientRect();\n  if (Math.abs(rect.width - width) < TOLERANCE &&\n      Math.abs(rect.height - height) < TOLERANCE) { return; }\n\n  const targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, ''),\n    boxSizing = targetBodyCmpStyle.boxSizing,\n    includeProps = boxSizing === 'border-box' ? [] :\n      boxSizing === 'padding-box' ? ['border'] : ['border', 'padding'], // content-box\n\n    PROP_NAMES = {\n      border: {\n        width: ['borderLeftWidth', 'borderRightWidth'],\n        height: ['borderTopWidth', 'borderBottomWidth']\n      },\n      padding: {\n        width: ['paddingLeft', 'paddingRight'],\n        height: ['paddingTop', 'paddingBottom']\n      }\n    },\n\n    values = ['width', 'height'].reduce((values, dir) => {\n      includeProps.forEach(part => {\n        PROP_NAMES[part][dir].forEach(propName => {\n          values[dir] -= parseFloat(targetBodyCmpStyle[propName]);\n        });\n      });\n      return values;\n    }, {width: width, height: height});\n\n  // Since the `width` and `height` might change each other, fix both.\n  setStyle(elmTargetBody, {\n    // The value might be negative number when size is too small.\n    width: values.width > 0 ? `${values.width}px` : 0,\n    height: values.height > 0 ? `${values.height}px` : 0\n  }, props.savedStyleTargetBody);\n\n  // In some browsers, getComputedStyle might return computed values that is not px instead of used values.\n  const fixStyle = {};\n  rect = elmTargetBody.getBoundingClientRect();\n  if (Math.abs(rect.width - width) >= TOLERANCE) {\n    // [DEBUG]\n    console.warn(`[resizeTarget] Incorrect width: ${rect.width}` +\n      ` (expected: ${width} passed: ${values.width})`);\n    // [/DEBUG]\n    fixStyle.width = `${values.width - (rect.width - width)}px`;\n  }\n  if (rect.height !== height) {\n    // [DEBUG]\n    console.warn(`[resizeTarget] Incorrect height: ${rect.height}` +\n      ` (expected: ${height} passed: ${values.height})`);\n    // [/DEBUG]\n    fixStyle.height = `${values.height - (rect.height - height)}px`;\n  }\n  setStyle(elmTargetBody, fixStyle, props.savedStyleTargetBody);\n}\nwindow.resizeTarget = resizeTarget; // [DEBUG/]\n\n// Trident and Edge bug, width and height are interchanged.\nfunction getDocClientWH(props) {\n  const elmTarget = props.elmTarget,\n    width = elmTarget.clientWidth, height = elmTarget.clientHeight;\n  if (IS_TRIDENT || IS_EDGE) {\n    const targetBodyCmpStyle = props.window.getComputedStyle(props.elmTargetBody, ''),\n      wMode = targetBodyCmpStyle.writingMode || targetBodyCmpStyle['writing-mode'], // Trident bug\n      direction = targetBodyCmpStyle.direction;\n    return wMode === 'tb-rl' || wMode === 'bt-rl' || wMode === 'tb-lr' || wMode === 'bt-lr' ||\n        IS_EDGE && (\n          direction === 'ltr' && (wMode === 'vertical-rl' || wMode === 'vertical-lr') ||\n          direction === 'rtl' && (wMode === 'vertical-rl' || wMode === 'vertical-lr')) ?\n      {width: height, height: width} : // interchange\n      {width: width, height: height};\n  } else {\n    return {width: width, height: height};\n  }\n}\nwindow.getDocClientWH = getDocClientWH; // [DEBUG/]\n\nfunction restoreScroll(props, element) {\n\n  function scrollElement(element, isDoc, left, top) {\n    try {\n      scrollLeft(element, isDoc, props.window, left);\n      scrollTop(element, isDoc, props.window, top);\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n  }\n\n  console.log('restoreScroll START'); // [DEBUG/]\n  if (element) {\n    return props.savedElementsScroll.some(elementScroll => {\n      if (elementScroll.element === element) {\n        scrollElement(elementScroll.element, elementScroll.isDoc, elementScroll.left, elementScroll.top);\n        return true;\n      }\n      return false;\n    })\n    ? (console.log('restoreScroll DONE'), true) : // [DEBUG/]\n      (console.log('restoreScroll Not in target'), false) // [DEBUG/]\n    ;\n  } else {\n    props.savedElementsScroll.forEach(elementScroll => {\n      scrollElement(elementScroll.element, elementScroll.isDoc, elementScroll.left, elementScroll.top);\n    });\n    console.log('restoreScroll DONE (All savedElementsScroll)'); // [DEBUG/]\n    return true;\n  }\n}\n\nfunction restoreAccKeys(props) {\n  props.savedElementsAccKeys.forEach(elementAccKeys => {\n    try {\n      if (elementAccKeys.tabIndex === false) {\n        elementAccKeys.element.removeAttribute('tabindex');\n      } else if (elementAccKeys.tabIndex != null) {\n        elementAccKeys.element.tabIndex = elementAccKeys.tabIndex;\n      }\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n\n    try {\n      if (elementAccKeys.accessKey) {\n        elementAccKeys.element.accessKey = elementAccKeys.accessKey;\n      }\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n  });\n}\nwindow.restoreAccKeys = restoreAccKeys; // [DEBUG/]\n\nfunction avoidFocus(props, element) {\n  console.log('avoidFocus START'); // [DEBUG/]\n  if (props.isDoc && element !== element.ownerDocument.body &&\n        !(props.elmOverlay.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY) ||\n      !props.isDoc && (element === props.elmTargetBody ||\n        props.elmTargetBody.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY)) {\n    if (element.blur) { // Trident and Edge don't support SVG#blur\n      element.blur();\n    } else {\n      element.ownerDocument.body.focus();\n    }\n    console.log('avoidFocus DONE'); // [DEBUG/]\n    return true;\n  }\n  console.log('avoidFocus Not in target'); // [DEBUG/]\n  return false;\n}\n\n// Selection.containsNode polyfill for Trident\nfunction selContainsNode(selection, node, partialContainment) {\n  const nodeRange = node.ownerDocument.createRange(),\n    iLen = selection.rangeCount;\n  nodeRange.selectNodeContents(node);\n  for (let i = 0; i < iLen; i++) {\n    const selRange = selection.getRangeAt(i);\n    if (partialContainment ?\n        selRange.compareBoundaryPoints(Range.START_TO_END, nodeRange) >= 0 &&\n        selRange.compareBoundaryPoints(Range.END_TO_START, nodeRange) <= 0 :\n        selRange.compareBoundaryPoints(Range.START_TO_START, nodeRange) < 0 &&\n        selRange.compareBoundaryPoints(Range.END_TO_END, nodeRange) > 0) {\n      return true;\n    }\n  }\n  return false;\n}\nwindow.selContainsNode = selContainsNode; // [DEBUG/]\n\n/**\n * Indicates whether the selection is part of the node or not.\n * @param {Node} node - Target node.\n * @param {Selection} selection - The parsed selection.\n * @returns {boolean} - `true` if all ranges of `selection` are part of `node`.\n */\nfunction nodeContainsSel(node, selection) {\n  const nodeRange = node.ownerDocument.createRange(),\n    iLen = selection.rangeCount;\n  nodeRange.selectNode(node);\n  for (let i = 0; i < iLen; i++) {\n    const selRange = selection.getRangeAt(i);\n    if (selRange.compareBoundaryPoints(Range.START_TO_START, nodeRange) < 0 ||\n        selRange.compareBoundaryPoints(Range.END_TO_END, nodeRange) > 0) {\n      return false;\n    }\n  }\n  return true;\n}\nwindow.nodeContainsSel = nodeContainsSel; // [DEBUG/]\n\nfunction avoidSelect(props) {\n  console.log('avoidSelect START'); // [DEBUG/]\n  const selection = ('getSelection' in window ? props.window : props.document).getSelection();\n  if (selection.rangeCount && (props.isDoc ?\n      !nodeContainsSel(props.elmOverlayBody, selection) :\n      (selection.containsNode ?\n        selection.containsNode(props.elmTargetBody, true) :\n        selContainsNode(selection, props.elmTargetBody, true))\n      )) {\n    selection.removeAllRanges();\n    props.document.body.focus();\n    // Trident bug? It seems that `focus()` makes selection again.\n    if (selection.rangeCount > 0) { selection.removeAllRanges(); }\n    console.log('avoidSelect DONE'); // [DEBUG/]\n    return true;\n  }\n  console.log('avoidSelect NO selection'); // [DEBUG/]\n  return false;\n}\n\nfunction barLeft(wMode, direction) {\n  const svgSpec = wMode === 'rl-tb' || wMode === 'tb-rl' || wMode === 'bt-rl' || wMode === 'rl-bt';\n  return IS_TRIDENT && svgSpec ||\n    IS_EDGE && (svgSpec ||\n      direction === 'rtl' && (wMode === 'horizontal-tb' || wMode === 'vertical-rl') ||\n      direction === 'ltr' && wMode === 'vertical-rl');\n}\nwindow.barLeft = barLeft; // [DEBUG/]\n\nfunction barTop(wMode, direction) {\n  const svgSpec = wMode === 'bt-rl' || wMode === 'bt-lr' || wMode === 'lr-bt' || wMode === 'rl-bt';\n  return IS_TRIDENT && svgSpec ||\n    IS_EDGE && (svgSpec ||\n      direction === 'rtl' && (wMode === 'vertical-lr' || wMode === 'vertical-rl'));\n}\nwindow.barTop = barTop; // [DEBUG/]\n\nfunction disableDocBars(props) {\n  const elmTarget = props.elmTarget, elmTargetBody = props.elmTargetBody,\n    targetBodyRect = elmTargetBody.getBoundingClientRect();\n\n  // Get size of each scrollbar.\n  let clientWH = getDocClientWH(props),\n    barV = -clientWH.width, barH = -clientWH.height; // elmTarget.clientWidth/clientHeight\n  setStyle(elmTarget, {overflow: 'hidden'}, props.savedStyleTarget);\n  clientWH = getDocClientWH(props);\n  barV += clientWH.width;\n  barH += clientWH.height;\n\n  if (barV || barH) {\n    const targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, '');\n    let propV, propH;\n    // There is no way to get absolute position of document.\n    // We need distance between the document and its window, or a method like `element.screenX`\n    // that gets absolute position of an element.\n    // For the moment, Trident and Edge make a scrollbar at the left/top side when RTL document\n    // or CJK vertical document is rendered.\n    if (IS_TRIDENT || IS_EDGE) {\n      const wMode = targetBodyCmpStyle.writingMode || targetBodyCmpStyle['writing-mode'], // Trident bug\n        direction = targetBodyCmpStyle.direction;\n      if (barV) { propV = barLeft(wMode, direction) ? 'marginLeft' : 'marginRight'; }\n      if (barH) { propH = barTop(wMode, direction) ? 'marginTop' : 'marginBottom'; }\n    } else {\n      if (barV) { propV = 'marginRight'; }\n      if (barH) { propH = 'marginBottom'; }\n    }\n\n    const addStyle = {};\n    if (barV) { addStyle[propV] = `${parseFloat(targetBodyCmpStyle[propV]) + barV}px`; }\n    if (barH) { addStyle[propH] = `${parseFloat(targetBodyCmpStyle[propH]) + barH}px`; }\n    setStyle(elmTargetBody, addStyle, props.savedStyleTargetBody);\n    resizeTarget(props, targetBodyRect.width, targetBodyRect.height);\n\n    // `overflow: 'hidden'` might change scroll.\n    restoreScroll(props, elmTarget);\n    return true;\n  } else {\n    restoreStyle(elmTarget, props.savedStyleTarget, ['overflow']);\n    return false;\n  }\n}\nwindow.disableDocBars = disableDocBars; // [DEBUG/]\n\nfunction position(props, targetBodyBBox) {\n  const elmTargetBody = props.elmTargetBody,\n    targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, ''),\n\n    elmOverlay = props.elmOverlay,\n    overlayCmpStyle = props.window.getComputedStyle(elmOverlay, ''),\n    overlayBBox = getBBox(elmOverlay, props.window),\n\n    borders = ['Top', 'Right', 'Bottom', 'Left'].reduce((borders, prop) => {\n      borders[prop.toLowerCase()] = parseFloat(targetBodyCmpStyle[`border${prop}Width`]);\n      return borders;\n    }, {}),\n\n    // Get distance between document and origin of `elmOverlay`.\n    offset = {left: overlayBBox.left - parseFloat(overlayCmpStyle.left),\n      top: overlayBBox.top - parseFloat(overlayCmpStyle.top)},\n\n    style = {\n      left: `${targetBodyBBox.left - offset.left + borders.left}px`,\n      top: `${targetBodyBBox.top - offset.top + borders.top}px`,\n      width: `${targetBodyBBox.width - borders.left - borders.right}px`,\n      height: `${targetBodyBBox.height - borders.top - borders.bottom}px`\n    },\n    reValue = /^([\\d\\.]+)(px|%)$/;\n\n  // border-radius\n  [\n    {prop: 'TopLeft', hBorder: 'left', vBorder: 'top'},\n    {prop: 'TopRight', hBorder: 'right', vBorder: 'top'},\n    {prop: 'BottomRight', hBorder: 'right', vBorder: 'bottom'},\n    {prop: 'BottomLeft', hBorder: 'left', vBorder: 'bottom'}\n  ].forEach(corner => {\n    const prop = CSSPrefix.getName(`border${corner.prop}Radius`),\n      values = targetBodyCmpStyle[prop].split(' ');\n    let h = values[0], v = values[1] || values[0],\n      matches = reValue.exec(h);\n    h = !matches ? 0 :\n      matches[2] === 'px' ? +matches[1] :\n      matches[1] * targetBodyBBox.width / 100;\n    matches = reValue.exec(v);\n    v = !matches ? 0 :\n      matches[2] === 'px' ? +matches[1] :\n      matches[1] * targetBodyBBox.height / 100;\n\n    h -= borders[corner.hBorder];\n    v -= borders[corner.vBorder];\n    if (h > 0 && v > 0) {\n      style[prop] = `${h}px ${v}px`;\n    }\n  });\n\n  setStyle(elmOverlay, style);\n  props.targetBodyBBox = targetBodyBBox;\n}\nwindow.position = position; // [DEBUG/]\n\nfunction getTargetElements(props) {\n  const elmTargetBody = props.elmTargetBody,\n    elmOverlay = props.elmOverlay,\n    targetElements = [props.elmTarget];\n  if (props.isDoc) {\n    targetElements.push(elmTargetBody);\n    Array.prototype.slice.call(elmTargetBody.childNodes).forEach(childNode => {\n      if (childNode.nodeType === Node.ELEMENT_NODE &&\n          childNode !== elmOverlay &&\n          !mClassList(childNode).contains(STYLE_CLASS) &&\n          childNode.id !== FACE_DEFS_ELEMENT_ID) {\n        targetElements.push(childNode);\n        Array.prototype.push.apply(targetElements, childNode.querySelectorAll('*'));\n      }\n    });\n  } else {\n    Array.prototype.push.apply(targetElements, elmTargetBody.querySelectorAll('*'));\n  }\n  return targetElements;\n}\n\nfunction finishShowing(props) {\n  props.state = STATE_SHOWN;\n  if (props.options.onShow) { props.options.onShow.call(props.ins); }\n}\n\nfunction finishHiding(props) {\n  mClassList(props.elmOverlay).add(STYLE_CLASS_HIDE);\n\n  restoreStyle(props.elmTarget, props.savedStyleTarget);\n  restoreStyle(props.elmTargetBody, props.savedStyleTargetBody);\n  props.savedStyleTarget = {};\n  props.savedStyleTargetBody = {};\n\n  restoreAccKeys(props);\n  props.savedElementsAccKeys = null;\n\n  // props.state must be STATE_HIDDEN for below\n  props.state = STATE_HIDDEN;\n\n  if (props.isDoc && props.activeElement) { props.activeElement.focus(); }\n  props.activeElement = null;\n\n  setTimeout(function() {\n    restoreScroll(props); // Since `focus()` might scroll, do this after `focus()`.\n    props.savedElementsScroll = null;\n\n    if (props.options.onHide) { props.options.onHide.call(props.ins); }\n  }, 0);\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction show(props) {\n\n  function getScroll(elements, fromDoc) {\n\n    function elementCanScroll(element, isDoc) {\n      const cmpStyle = props.window.getComputedStyle(element, ''),\n        tagName = element.nodeName.toLowerCase();\n      return (cmpStyle.overflow === 'scroll' || cmpStyle.overflow === 'auto' ||\n          cmpStyle.overflowX === 'scroll' || cmpStyle.overflowX === 'auto' ||\n          cmpStyle.overflowY === 'scroll' || cmpStyle.overflowY === 'auto') ||\n        // document with `visible` might make scrollbars.\n        isDoc && (cmpStyle.overflow === 'visible' ||\n          cmpStyle.overflowX === 'visible' || cmpStyle.overflowY === 'visible') ||\n        // `overflow` of these differs depending on browser.\n        !isDoc && (tagName === 'textarea' || tagName === 'select');\n    }\n\n    const elementsScroll = [];\n    elements.forEach((element, i) => {\n      const isDoc = fromDoc && i === 0;\n      if (elementCanScroll(element, isDoc)) {\n        elementsScroll.push({\n          element: element,\n          isDoc: isDoc,\n          left: scrollLeft(element, isDoc, props.window),\n          top: scrollTop(element, isDoc, props.window)\n        });\n      }\n    });\n    return elementsScroll;\n  }\n\n  function disableAccKeys(elements, fromDoc) {\n    const savedElementsAccKeys = [];\n    elements.forEach((element, i) => {\n      if (fromDoc && i === 0) { return; }\n\n      const elementAccKeys = {},\n        tabIndex = element.tabIndex;\n      // In Trident and Edge, `tabIndex` of all elements are `0` or something even if the element is not focusable.\n      if (tabIndex !== -1) {\n        elementAccKeys.element = element;\n        elementAccKeys.tabIndex = element.hasAttribute('tabindex') ? tabIndex : false;\n        element.tabIndex = -1;\n      }\n\n      const accessKey = element.accessKey;\n      if (accessKey) {\n        elementAccKeys.element = element;\n        elementAccKeys.accessKey = accessKey;\n        element.accessKey = '';\n      }\n\n      if (elementAccKeys.element) {\n        savedElementsAccKeys.push(elementAccKeys);\n      }\n    });\n    return savedElementsAccKeys;\n  }\n\n  if (props.state === STATE_SHOWING || props.state === STATE_SHOWN) { return; }\n  if (props.options.onBeforeShow && props.options.onBeforeShow.call(props.ins) === false) { return; }\n\n  const elmOverlay = props.elmOverlay;\n  if (props.state === STATE_HIDDEN) {\n    const targetElements = getTargetElements(props);\n    window.targetElements = targetElements; // [DEBUG/]\n\n    mClassList(elmOverlay).remove(STYLE_CLASS_HIDE); // Before `getBoundingClientRect` (`position`).\n    if (!props.isDoc) {\n      const elmTargetBody = props.elmTargetBody;\n      if (props.window.getComputedStyle(elmTargetBody, '').display === 'inline') {\n        setStyle(elmTargetBody, {display: 'inline-block'}, props.savedStyleTargetBody);\n      }\n      position(props, getBBox(elmTargetBody, props.window));\n    }\n\n    props.savedElementsScroll = getScroll(targetElements, props.isDoc);\n    props.disabledDocBars = false;\n    // savedElementsScroll is empty when document is disconnected.\n    if (props.isDoc && props.savedElementsScroll.length && props.savedElementsScroll[0].isDoc) {\n      props.disabledDocBars = disableDocBars(props);\n    }\n    props.savedElementsAccKeys = disableAccKeys(targetElements, props.isDoc);\n    props.activeElement = props.document.activeElement;\n    if (props.activeElement) { avoidFocus(props, props.activeElement); }\n    avoidSelect(props);\n    elmOverlay.offsetWidth; /* force reflow */ // eslint-disable-line no-unused-expressions\n\n    // blur\n    props.filterElements = null;\n    if (props.options.blur !== false) {\n      const propName = CSSPrefix.getName('filter'),\n        propValue = CSSPrefix.getValue('filter', `blur(${props.options.blur}px)`);\n      if (propValue) { // undefined if no propName\n        const filterElements = props.isDoc ?\n          Array.prototype.slice.call(props.elmTargetBody.childNodes).filter(childNode =>\n              childNode.nodeType === Node.ELEMENT_NODE &&\n              childNode !== elmOverlay &&\n              !mClassList(childNode).contains(STYLE_CLASS) &&\n              childNode.id !== FACE_DEFS_ELEMENT_ID)\n            .map(element => ({element: element, savedStyle: {}})) :\n          [{element: props.elmTargetBody, savedStyle: {}}];\n\n        filterElements.forEach(filterElement => {\n          const style = {}; // new object for each element.\n          style[propName] = propValue;\n          setStyle(filterElement.element, style, filterElement.savedStyle);\n        });\n        props.filterElements = filterElements;\n      }\n    }\n\n    if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n  }\n  mClassList(elmOverlay).add(STYLE_CLASS_SHOW);\n  props.state = STATE_SHOWING;\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction hide(props, force) {\n  if (props.state === STATE_HIDDEN) { return; }\n  if (props.options.onBeforeHide && props.options.onBeforeHide.call(props.ins) === false) { return; }\n\n  // blur\n  if (props.filterElements) {\n    props.filterElements.forEach(\n      filterElement => { restoreStyle(filterElement.element, filterElement.savedStyle); });\n    props.filterElements = null;\n  }\n\n  mClassList(props.elmOverlay).remove(STYLE_CLASS_SHOW);\n  if (force) {\n    props.state = STATE_HIDDEN; // To skip transitionend.\n    finishHiding(props);\n  } else {\n    props.state = STATE_HIDING;\n  }\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {Object} newOptions - New options.\n * @returns {void}\n */\nfunction setOptions(props, newOptions) {\n  const options = props.options;\n\n  // face\n  if ((newOptions.face == null ? void 0 : newOptions.face) !== options.face) {\n    const elmOverlayBody = props.elmOverlayBody;\n    // Clear\n    while (elmOverlayBody.firstChild) { elmOverlayBody.removeChild(elmOverlayBody.firstChild); }\n    if (newOptions.face === false) { // No face\n      options.face = false;\n    } else if (newOptions.face && newOptions.face.nodeType === Node.ELEMENT_NODE) { // Specific face\n      options.face = newOptions.face;\n      elmOverlayBody.appendChild(newOptions.face);\n    } else { // Builtin face\n      // [FACE]\n      const elmDocument = props.document;\n      if (!elmDocument.getElementById(FACE_DEFS_ELEMENT_ID)) { // Add svg defs\n        const defsSvg = (new props.window.DOMParser()).parseFromString(FACE_DEFS, 'image/svg+xml');\n        elmDocument.body.appendChild(defsSvg.documentElement);\n      }\n      // [/FACE]\n      options.face = void 0;\n      elmOverlayBody.innerHTML = FACE_01; // [FACE/]\n    }\n  }\n\n  // duration\n  if (isFinite(newOptions.duration) && newOptions.duration !== options.duration) {\n    const elmOverlay = props.elmOverlay;\n    options.duration = newOptions.duration;\n    elmOverlay.style[CSSPrefix.getName('transitionDuration')] =\n      newOptions.duration === DURATION ? '' : `${newOptions.duration}ms`;\n  }\n\n  // blur\n  if (isFinite(newOptions.blur) || newOptions.blur === false) {\n    options.blur = newOptions.blur;\n  }\n\n  // style\n  if (isObject(newOptions.style)) {\n    setStyle(props.elmOverlay, newOptions.style);\n  }\n\n  // Event listeners\n  ['onShow', 'onHide', 'onBeforeShow', 'onBeforeHide', 'onPosition'].forEach(option => {\n    if (typeof newOptions[option] === 'function') {\n      options[option] = newOptions[option];\n    }\n  });\n}\n\nfunction scroll(props, target, dirLeft, value) {\n  let isDoc, curValue;\n\n  if (target) {\n    const targetElements = getTargetElements(props);\n    if (targetElements.indexOf(target) === -1) { return curValue; } // return undefined\n    isDoc = target.nodeName.toLowerCase() === 'html';\n  } else {\n    target = props.elmTarget;\n    isDoc = props.isDoc;\n  }\n\n  const elementScroll = value != null && props.savedElementsScroll &&\n    (props.savedElementsScroll.find ?\n      props.savedElementsScroll.find(elementScroll => elementScroll.element === target) :\n      (elementsScroll => {\n        let found;\n        elementsScroll.some(elementScroll => {\n          if (elementScroll.element === target) {\n            found = elementScroll;\n            return true;\n          }\n          return false;\n        });\n        return found;\n      })(props.savedElementsScroll));\n\n  curValue = (dirLeft ? scrollLeft : scrollTop)(target, isDoc, props.window, value);\n  if (elementScroll) { elementScroll[dirLeft ? 'left' : 'top'] = curValue; }\n  return curValue;\n}\n\nclass PlainOverlay {\n  /**\n   * Create a `PlainOverlay` instance.\n   * @param {Element} [target] - Target element.\n   * @param {Object} [options] - Options.\n   */\n  constructor(target, options) {\n\n    /**\n     * @param {Object} [target] - Element or something that is checked.\n     * @returns {(Element|null)} - Valid element or null.\n     */\n    function getTarget(target) {\n      let validElement;\n      if (!target) {\n        validElement = document.documentElement; // documentElement of current document\n      } else if (target.nodeType) {\n        if (target.nodeType === Node.DOCUMENT_NODE) {\n          validElement = target.documentElement; // documentElement of target document\n        } else if (target.nodeType === Node.ELEMENT_NODE) {\n          const nodeName = target.nodeName.toLowerCase();\n          validElement =\n            nodeName === 'body' ? target.ownerDocument.documentElement : // documentElement of target body\n            nodeName === 'iframe' || nodeName === 'frame' ?\n              target.contentDocument.documentElement : // documentElement of target frame\n            target;\n        }\n        if (!validElement) { throw new Error('This element is not accepted.'); }\n      } else if (target === target.window) {\n        validElement = target.document.documentElement; // documentElement of target window\n      }\n      return validElement;\n    }\n\n    const props = {\n      ins: this,\n      options: { // Initial options (not default)\n        face: {}, // To update forcibly in setOptions.\n        duration: DURATION, // Initial state.\n        blur: false // Initial state.\n      },\n      state: STATE_HIDDEN,\n      savedStyleTarget: {},\n      savedStyleTargetBody: {}\n    };\n\n    Object.defineProperty(this, '_id', {value: ++insId});\n    props._id = this._id;\n    insProps[this._id] = props;\n\n    if (arguments.length === 1) {\n      if (!(props.elmTarget = getTarget(target))) {\n        if (!isObject(target)) { throw new Error('Invalid argument.'); }\n        props.elmTarget = document.documentElement; // documentElement of current document\n        options = target;\n      }\n    } else {\n      if (!(props.elmTarget = getTarget(target))) { throw new Error('This target is not accepted.'); }\n      if (options && !isObject(options)) { throw new Error('Invalid options.'); }\n    }\n\n    props.isDoc = props.elmTarget.nodeName.toLowerCase() === 'html';\n    const elmDocument = props.document = props.elmTarget.ownerDocument;\n    props.window = elmDocument.defaultView;\n    const elmTargetBody = props.elmTargetBody = props.isDoc ? elmDocument.body : props.elmTarget;\n\n    // Setup window\n    if (!elmDocument.getElementById(STYLE_ELEMENT_ID)) {\n      const head = elmDocument.getElementsByTagName('head')[0] || elmDocument.documentElement,\n        sheet = head.insertBefore(elmDocument.createElement('style'), head.firstChild);\n      sheet.type = 'text/css';\n      sheet.id = STYLE_ELEMENT_ID;\n      sheet.textContent = CSS_TEXT;\n      if (IS_TRIDENT || IS_EDGE) { forceReflow(sheet); } // Trident bug\n    }\n\n    // elmOverlay\n    const elmOverlay = props.elmOverlay = elmDocument.createElement('div');\n    mClassList(elmOverlay).add(STYLE_CLASS, STYLE_CLASS_HIDE);\n    if (props.isDoc) { mClassList(elmOverlay).add(STYLE_CLASS_DOC); }\n\n    (listener => {\n      ['transitionend', 'webkitTransitionEnd', 'oTransitionEnd', 'otransitionend'].forEach(type => {\n        elmOverlay.addEventListener(type, listener, true);\n      });\n    })(event => {\n      if (event.target === elmOverlay && event.propertyName === 'opacity') {\n        if (props.state === STATE_SHOWING) {\n          finishShowing(props);\n        } else if (props.state === STATE_HIDING) {\n          finishHiding(props);\n        }\n      }\n    });\n\n    (props.isDoc ? props.window : elmTargetBody).addEventListener('scroll', event => {\n      const target = event.target;\n      if (props.state !== STATE_HIDDEN &&\n          restoreScroll(props,\n            props.isDoc &&\n                (target === props.window || target === props.document || target === props.elmTargetBody) ?\n              props.elmTarget : target)) {\n        console.log('avoidScroll'); // [DEBUG/]\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    }, true);\n\n    elmTargetBody.addEventListener('focus', event => {\n      if (props.state !== STATE_HIDDEN && avoidFocus(props, event.target)) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    }, true);\n\n    (listener => { // simulation \"text-select\" event\n      ['keyup', 'mouseup'].forEach(type => {\n        // To listen to keydown in the target and keyup in outside, it is window, not `elmTargetBody`.\n        props.window.addEventListener(type, listener, true);\n      });\n    })(event => {\n      if (props.state !== STATE_HIDDEN && avoidSelect(props)) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    });\n\n    // Gecko bug, multiple calling (parallel) by `requestAnimationFrame`.\n    props.resizing = false;\n    props.window.addEventListener('resize', AnimEvent.add(() => {\n      if (props.resizing) {\n        console.log('`resize` event listener is already running.'); // [DEBUG/]\n        return;\n      }\n      props.resizing = true;\n      if (props.state !== STATE_HIDDEN) {\n        if (props.isDoc) {\n          if (props.savedElementsScroll.length && props.savedElementsScroll[0].isDoc) {\n            if (props.disabledDocBars) { // Restore DocBars\n              console.log('Restore DocBars'); // [DEBUG/]\n              restoreStyle(props.elmTarget, props.savedStyleTarget, ['overflow']);\n              restoreStyle(elmTargetBody, props.savedStyleTargetBody,\n                ['marginLeft', 'marginRight', 'marginTop', 'marginBottom', 'width', 'height']);\n            }\n            console.log('disableDocBars'); // [DEBUG/]\n            props.disabledDocBars = disableDocBars(props);\n          }\n        } else {\n          const bBox = getBBox(elmTargetBody, props.window),\n            lastBBox = props.targetBodyBBox;\n          if (bBox.left !== lastBBox.left || bBox.top !== lastBBox.top ||\n              bBox.width !== lastBBox.width || bBox.height !== lastBBox.height) {\n            console.log('Update position'); // [DEBUG/]\n            position(props, bBox);\n          }\n        }\n        if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n      }\n      props.resizing = false;\n    }), true);\n\n    // Avoid scroll on touch device\n    elmOverlay.addEventListener('touchmove', event => {\n      if (props.state !== STATE_HIDDEN) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    }, true);\n\n    // elmOverlayBody\n    (props.elmOverlayBody = elmOverlay.appendChild(elmDocument.createElement('div')))\n      .className = STYLE_CLASS_BODY;\n\n    elmDocument.body.appendChild(elmOverlay);\n    setOptions(props, options || {});\n  }\n\n  /**\n   * @param {Object} options - New options.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  setOptions(options) {\n    if (isObject(options)) {\n      setOptions(insProps[this._id], options);\n    }\n    return this;\n  }\n\n  /**\n   * Show the overlay.\n   * @param {Object} [options] - New options.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  show(options) {\n    this.setOptions(options);\n    show(insProps[this._id]);\n    return this;\n  }\n\n  /**\n   * Hide the overlay.\n   * @param {boolean} [force] - Hide it immediately without effect.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  hide(force) {\n    hide(insProps[this._id], force);\n    return this;\n  }\n\n  scrollLeft(value, target) {\n    return scroll(insProps[this._id], target, true, value);\n  }\n\n  scrollTop(value, target) {\n    return scroll(insProps[this._id], target, false, value);\n  }\n\n  position() {\n    const props = insProps[this._id];\n    if (props.state !== STATE_HIDDEN) {\n      if (!props.isDoc) { position(props, getBBox(props.elmTargetBody, props.window)); }\n      if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n    }\n    return this;\n  }\n\n  get state() {\n    return insProps[this._id].state;\n  }\n\n  get style() {\n    return insProps[this._id].elmOverlay.style;\n  }\n\n  get face() { return insProps[this._id].options.face; }\n  set face(value) { setOptions(insProps[this._id], {face: value}); }\n\n  get duration() { return insProps[this._id].options.duration; }\n  set duration(value) { setOptions(insProps[this._id], {duration: value}); }\n\n  get blur() { return insProps[this._id].options.blur; }\n  set blur(value) { setOptions(insProps[this._id], {blur: value}); }\n\n  get onShow() { return insProps[this._id].options.onShow; }\n  set onShow(value) { setOptions(insProps[this._id], {onShow: value}); }\n\n  get onHide() { return insProps[this._id].options.onHide; }\n  set onHide(value) { setOptions(insProps[this._id], {onHide: value}); }\n\n  get onBeforeShow() { return insProps[this._id].options.onBeforeShow; }\n  set onBeforeShow(value) { setOptions(insProps[this._id], {onBeforeShow: value}); }\n\n  get onBeforeHide() { return insProps[this._id].options.onBeforeHide; }\n  set onBeforeHide(value) { setOptions(insProps[this._id], {onBeforeHide: value}); }\n\n  get onPosition() { return insProps[this._id].options.onPosition; }\n  set onPosition(value) { setOptions(insProps[this._id], {onPosition: value}); }\n\n  static show(target, options) {\n    return (new PlainOverlay(target, options)).show();\n  }\n\n  static get STATE_HIDDEN() { return STATE_HIDDEN; }\n  static get STATE_SHOWING() { return STATE_SHOWING; }\n  static get STATE_SHOWN() { return STATE_SHOWN; }\n  static get STATE_HIDING() { return STATE_HIDING; }\n}\n\n/* [FACE/]\nPlainOverlay.limit = true;\n[FACE/] */\n\nexport default PlainOverlay;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plain-overlay.js","/*\n * CSSPrefix\n * https://github.com/anseki/cssprefix\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nfunction ucf(text) { return text.substr(0, 1).toUpperCase() + text.substr(1); }\n\nconst PREFIXES = ['webkit', 'ms', 'moz', 'o'],\n  NAME_PREFIXES = PREFIXES.reduce((prefixes, prefix) => {\n    prefixes.push(prefix);\n    prefixes.push(ucf(prefix));\n    return prefixes;\n  }, []),\n  VALUE_PREFIXES = PREFIXES.map(prefix => `-${prefix}-`),\n\n  /**\n   * Get sample CSSStyleDeclaration.\n   * @returns {CSSStyleDeclaration}\n   */\n  getDeclaration = (() => {\n    let declaration;\n    return () => (declaration = declaration || document.createElement('div').style);\n  })(),\n\n  /**\n   * Normalize name.\n   * @param {} propName - A name that is normalized.\n   * @returns {string} - A normalized name.\n   */\n  normalizeName = (() => {\n    const rePrefixedName = new RegExp('^(?:' + PREFIXES.join('|') + ')(.)', 'i'),\n      reUc = /[A-Z]/;\n    return propName => (propName = (propName + '').replace(/\\s/g, '')\n      .replace(/-([\\da-z])/gi, (str, p1) => p1.toUpperCase()) // camelCase\n      // 'ms' and 'Ms' are found by rePrefixedName 'i' option\n      .replace(rePrefixedName, (str, p1) => reUc.test(p1) ? p1.toLowerCase() : str) // Remove prefix\n    ).toLowerCase() === 'float' ? 'cssFloat' : propName; // For old CSSOM\n  })(),\n\n  /**\n   * Normalize value.\n   * @param {} propValue - A value that is normalized.\n   * @returns {string} - A normalized value.\n   */\n  normalizeValue = (() => {\n    const rePrefixedValue = new RegExp('^(?:' + VALUE_PREFIXES.join('|') + ')', 'i');\n    return propValue => (propValue + '').replace(/\\s/g, '').replace(rePrefixedValue, '');\n  })(),\n\n  /**\n   * Polyfill for `CSS.supports`.\n   * @param {string} propName - A name.\n   * @param {string} propValue - A value.\n   * @returns {boolean} - `true` if given pair is accepted.\n   */\n  cssSupports = (() => {\n    // return window.CSS && window.CSS.supports || ((propName, propValue) => {\n    // `CSS.supports` doesn't find prefixed property.\n    return ((propName, propValue) => {\n      const declaration = getDeclaration();\n      // In some browsers, `declaration[prop] = value` updates any property.\n      propName = propName.replace(/[A-Z]/g, str => `-${str.toLowerCase()}`); // kebab-case\n      declaration.setProperty(propName, propValue);\n      return declaration.getPropertyValue(propName) === propValue;\n    });\n  })(),\n\n  propNames = {}, propValues = {}; // Cache\n\n// [DEBUG]\nwindow.normalizeName = normalizeName;\nwindow.normalizeValue = normalizeValue;\nwindow.cssSupports = cssSupports;\n// [/DEBUG]\n\nfunction getName(propName) {\n  propName = normalizeName(propName);\n  if (propName && propNames[propName] == null) {\n    window.getNameDone = 'get'; // [DEBUG/]\n    const declaration = getDeclaration();\n\n    if (declaration[propName] != null) { // Original\n      propNames[propName] = propName;\n\n    } else { // Try with prefixes\n      const ucfName = ucf(propName);\n      if (!NAME_PREFIXES.some(prefix => {\n        const prefixed = prefix + ucfName;\n        if (declaration[prefixed] != null) {\n          propNames[propName] = prefixed;\n          return true;\n        }\n        return false;\n      })) {\n        propNames[propName] = false;\n      }\n    }\n\n  }\n  return propNames[propName] || void 0;\n}\n\nfunction getValue(propName, propValue) {\n  let res;\n\n  if (!(propName = getName(propName))) { return res; } // Invalid property\n\n  propValues[propName] = propValues[propName] || {};\n  (Array.isArray(propValue) ? propValue : [propValue]).some(propValue => {\n    propValue = normalizeValue(propValue);\n    (window.getValueDone = window.getValueDone || []).push(propValue); // [DEBUG/]\n\n    if (propValues[propName][propValue] != null) { // Cache\n      if (propValues[propName][propValue] !== false) {\n        res = propValues[propName][propValue];\n        return true;\n      } else {\n        return false; // Continue to next value\n      }\n    }\n    window.getValueDone.push('get'); // [DEBUG/]\n\n    if (cssSupports(propName, propValue)) { // Original\n      res = propValues[propName][propValue] = propValue;\n      return true;\n    }\n\n    if (VALUE_PREFIXES.some(prefix => { // Try with prefixes\n      const prefixed = prefix + propValue;\n      if (cssSupports(propName, prefixed)) {\n        res = propValues[propName][propValue] = prefixed;\n        return true;\n      }\n      return false;\n    })) {\n      return true;\n    }\n\n    propValues[propName][propValue] = false;\n    return false; // Continue to next value\n  });\n\n  return typeof res === 'string' ? res : void 0; // It might be empty string.\n}\n\nconst CSSPrefix = {\n  getName: getName,\n  getValue: getValue\n};\n\nexport default CSSPrefix;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/cssprefix/src/cssprefix.js","/*\n * AnimEvent\n * https://github.com/anseki/anim-event\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nconst\n  MSPF = 1000 / 60, // ms/frame (FPS: 60)\n  KEEP_LOOP = 500,\n\n  /**\n   * @typedef {Object} task\n   * @property {Event} event\n   * @property {function} listener\n   */\n\n  /** @type {task[]} */\n  tasks = [];\n\nlet\n  requestAnim = window.requestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    (callback => setTimeout(callback, MSPF)),\n  cancelAnim = window.cancelAnimationFrame ||\n    window.mozCancelAnimationFrame ||\n    window.webkitCancelAnimationFrame ||\n    window.msCancelAnimationFrame ||\n    (requestID => clearTimeout(requestID)),\n\n  requestID, lastFrameTime = Date.now();\n\n// [DEBUG]\nconst requestAnimSave = requestAnim, cancelAnimSave = cancelAnim;\nwindow.AnimEventByTimer = byTimer => {\n  if (byTimer) {\n    requestAnim = callback => setTimeout(callback, MSPF);\n    cancelAnim = requestID => clearTimeout(requestID);\n  } else {\n    requestAnim = requestAnimSave;\n    cancelAnim = cancelAnimSave;\n  }\n};\n// [/DEBUG]\n\nfunction step() {\n  let called, next;\n\n  if (requestID) {\n    cancelAnim.call(window, requestID);\n    requestID = null;\n  }\n\n  tasks.forEach(task => {\n    if (task.event) {\n      task.listener(task.event);\n      task.event = null;\n      called = true;\n    }\n  });\n\n  if (called) {\n    lastFrameTime = Date.now();\n    next = true;\n  } else if (Date.now() - lastFrameTime < KEEP_LOOP) { // Go on for a while\n    next = true;\n  }\n  if (next) { requestID = requestAnim.call(window, step); }\n}\n\nfunction indexOfTasks(listener) {\n  let index = -1;\n  tasks.some((task, i) => {\n    if (task.listener === listener) {\n      index = i;\n      return true;\n    }\n    return false;\n  });\n  return index;\n}\n\nconst AnimEvent = {\n  /**\n   * @param {function} listener - An event listener.\n   * @returns {(function|null)} - A wrapped event listener.\n   */\n  add: function(listener) {\n    let task;\n    if (indexOfTasks(listener) === -1) {\n      tasks.push((task = {listener: listener}));\n      return event => {\n        task.event = event;\n        if (!requestID) { step(); }\n      };\n    } else {\n      return null;\n    }\n  },\n\n  remove: function(listener) {\n    let iRemove;\n    if ((iRemove = indexOfTasks(listener)) > -1) {\n      tasks.splice(iRemove, 1);\n      if (!tasks.length && requestID) {\n        cancelAnim.call(window, requestID);\n        requestID = null;\n      }\n    }\n  }\n};\n\nexport default AnimEvent;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/anim-event/src/anim-event.js","/*\n * mClassList\n * https://github.com/anseki/m-class-list\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nfunction normalize(token) { return (token + '').trim(); } // Not `||`\nfunction applyList(list, element) { element.setAttribute('class', list.join(' ')); }\n\nfunction add(list, element, tokens) {\n  if (tokens.filter(token => {\n    if (!(token = normalize(token)) || list.indexOf(token) !== -1) { return false; }\n    list.push(token);\n    return true;\n  }).length) {\n    applyList(list, element);\n  }\n}\n\nfunction remove(list, element, tokens) {\n  if (tokens.filter(token => {\n    let i;\n    if (!(token = normalize(token)) || (i = list.indexOf(token)) === -1) { return false; }\n    list.splice(i, 1);\n    return true;\n  }).length) {\n    applyList(list, element);\n  }\n}\n\nfunction toggle(list, element, token, force) {\n  const i = list.indexOf((token = normalize(token)));\n  if (i !== -1) {\n    if (force) { return true; }\n    list.splice(i, 1);\n    applyList(list, element);\n    return false;\n  } else {\n    if (force === false) { return false; }\n    list.push(token);\n    applyList(list, element);\n    return true;\n  }\n}\n\nfunction replace(list, element, token, newToken) {\n  let i;\n  if (!(token = normalize(token)) || !(newToken = normalize(newToken)) ||\n    token === newToken || (i = list.indexOf(token)) === -1) { return; }\n  list.splice(i, 1);\n  if (list.indexOf(newToken) === -1) { list.push(newToken); }\n  applyList(list, element);\n}\n\nfunction mClassList(element) {\n  return !mClassList.ignoreNative && element.classList || (() => {\n    const list = (element.getAttribute('class') || '').trim().split(/\\s+/).filter(token => !!token);\n    return {\n      length: list.length,\n      item: i => list[i],\n      contains: token => list.indexOf(normalize(token)) !== -1,\n      add: function() { add(list, element, Array.prototype.slice.call(arguments)); },\n      remove: function() { remove(list, element, Array.prototype.slice.call(arguments)); },\n      toggle: (token, force) => toggle(list, element, token, force),\n      replace: (token, newToken) => replace(list, element, token, newToken)\n    };\n  })();\n}\n\nexport default mClassList;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/m-class-list/src/m-class-list.js","module.exports = \".plainoverlay,.plainoverlay:not(.plainoverlay-hide) .plainoverlay-builtin-face_01{-webkit-tap-highlight-color:transparent;transform:translateZ(0);box-shadow:0 0 1px transparent}.plainoverlay{-webkit-transition-property:opacity;-moz-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:200ms;-moz-transition-duration:200ms;-o-transition-duration:200ms;transition-duration:200ms;-webkit-transition-timing-function:linear;-moz-transition-timing-function:linear;-o-transition-timing-function:linear;transition-timing-function:linear;opacity:0;position:absolute;left:0;top:0;overflow:hidden;background-color:rgba(136,136,136,0.6);cursor:wait;z-index:9000}.plainoverlay.plainoverlay-doc{position:fixed;left:-200px;top:-200px;overflow:visible;padding:200px;width:100vw;height:100vh}.plainoverlay-body{width:100%;height:100%;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.plainoverlay.plainoverlay-doc .plainoverlay-body{width:100vw;height:100vh}.plainoverlay-show{opacity:1}.plainoverlay-hide{display:none}.plainoverlay-builtin-face{width:90%;height:90%;max-width:320px;max-height:320px}#plainoverlay-builtin-face-defs{width:0;height:0;position:fixed;left:-100px;top:-100px}#plainoverlay-builtin-face_01 circle,#plainoverlay-builtin-face_01 path{fill:none;stroke-width:40px}#plainoverlay-builtin-face_01 circle{stroke:#fff;opacity:0.25}#plainoverlay-builtin-face_01 path{stroke-linecap:round}.plainoverlay:not(.plainoverlay-hide) .plainoverlay-builtin-face_01{-webkit-animation-name:plainoverlay-builtin-face_01-spin;-moz-animation-name:plainoverlay-builtin-face_01-spin;-ms-animation-name:plainoverlay-builtin-face_01-spin;-o-animation-name:plainoverlay-builtin-face_01-spin;animation-name:plainoverlay-builtin-face_01-spin;-webkit-animation-duration:1s;-moz-animation-duration:1s;-ms-animation-duration:1s;-o-animation-duration:1s;animation-duration:1s;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear;-ms-animation-timing-function:linear;-o-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;-moz-animation-iteration-count:infinite;-ms-animation-iteration-count:infinite;-o-animation-iteration-count:infinite;animation-iteration-count:infinite}@-moz-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-ms-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/default.scss\n// module id = 4\n// module chunks = 0","module.exports = \"<svg id=\\\"plainoverlay-builtin-face-defs\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\"><defs><linearGradient id=\\\"plainoverlay-builtin-face_01-grad\\\" gradientUnits=\\\"userSpaceOnUse\\\" x1=\\\"160\\\" y1=\\\"20\\\" x2=\\\"300\\\" y2=\\\"160\\\"><stop offset=\\\"0\\\" stop-color=\\\"#fff\\\" stop-opacity=\\\"0\\\"/><stop offset=\\\"0.2\\\" stop-color=\\\"#fff\\\" stop-opacity=\\\"0.1\\\"/><stop offset=\\\"1\\\" stop-color=\\\"#fff\\\" stop-opacity=\\\"1\\\"/></linearGradient><g id=\\\"plainoverlay-builtin-face_01\\\"><circle cx=\\\"160\\\" cy=\\\"160\\\" r=\\\"140\\\"/><path d=\\\"M160 20a140 140 0 0 1 140 140\\\" stroke=\\\"url('#plainoverlay-builtin-face_01-grad')\\\"/></g></defs></svg>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/face.html?tag=defs\n// module id = 5\n// module chunks = 0","module.exports = \"<svg class=\\\"plainoverlay-builtin-face plainoverlay-builtin-face_01\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 320 320\\\"><use xlink:href=\\\"#plainoverlay-builtin-face_01\\\"/></svg>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/face.html?tag=face_01\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}