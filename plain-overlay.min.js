/*! PlainOverlay v1.0.4 (c) anseki https://anseki.github.io/plain-overlay/ */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("PlainOverlay",[],e):"object"==typeof exports?exports.PlainOverlay=e():t.PlainOverlay=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){"use strict";function o(){var t=void 0,e=void 0;d&&(c.call(window,d),d=null),l.forEach(function(e){e.event&&(e.listener(e.event),e.event=null,t=!0)}),t?(u=Date.now(),e=!0):Date.now()-u<a&&(e=!0),e&&(d=s.call(window,o))}function i(t){var e=-1;return l.some(function(n,o){return n.listener===t&&(e=o,!0)}),e}Object.defineProperty(e,"__esModule",{value:!0});var r=1e3/60,a=500,l=[],s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,r)},c=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return clearTimeout(t)},d=void 0,u=Date.now(),f={add:function(t){var e=void 0;return i(t)===-1?(l.push(e={listener:t}),function(t){e.event=t,d||o()}):null},remove:function(t){var e=void 0;(e=i(t))>-1&&(l.splice(e,1),!l.length&&d&&(c.call(window,d),d=null))}};e.default=f,t.exports=e.default},function(t,e,n){"use strict";function o(t){return t.substr(0,1).toUpperCase()+t.substr(1)}function i(t){if(t=d(t),t&&null==p[t]){var e=c();if(null!=e[t])p[t]=t;else{var n=o(t);l.some(function(o){var i=o+n;return null!=e[i]&&(p[t]=i,!0)})||(p[t]=!1)}}return p[t]||void 0}function r(t,e){var n=void 0;return(t=i(t))?(m[t]=m[t]||{},(Array.isArray(e)?e:[e]).some(function(e){return e=u(e),null!=m[t][e]?m[t][e]!==!1&&(n=m[t][e],!0):f(t,e)?(n=m[t][e]=e,!0):!!s.some(function(o){var i=o+e;return!!f(t,i)&&(n=m[t][e]=i,!0)})||(m[t][e]=!1,!1)}),"string"==typeof n?n:void 0):n}Object.defineProperty(e,"__esModule",{value:!0});var a=["webkit","ms","moz","o"],l=a.reduce(function(t,e){return t.push(e),t.push(o(e)),t},[]),s=a.map(function(t){return"-"+t+"-"}),c=function(){var t=void 0;return function(){return t=t||document.createElement("div").style}}(),d=function(){var t=new RegExp("^(?:"+a.join("|")+")(.)","i"),e=/[A-Z]/;return function(n){return"float"===(n=(n+"").replace(/\s/g,"").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}).replace(t,function(t,n){return e.test(n)?n.toLowerCase():t})).toLowerCase()?"cssFloat":n}}(),u=function(){var t=new RegExp("^(?:"+s.join("|")+")","i");return function(e){return(e+"").replace(/\s/g,"").replace(t,"")}}(),f=function(){return function(t,e){var n=c();return t=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}),n.setProperty(t,e),n.getPropertyValue(t)===e}}(),p={},m={},g={getName:i,getValue:r};e.default=g,t.exports=e.default},function(t,e,n){"use strict";function o(t){return(t+"").trim()}function i(t,e){e.setAttribute("class",t.join(" "))}function r(t,e,n){n.filter(function(e){return!(!(e=o(e))||t.indexOf(e)!==-1)&&(t.push(e),!0)}).length&&i(t,e)}function a(t,e,n){n.filter(function(e){var n=void 0;return!(!(e=o(e))||(n=t.indexOf(e))===-1)&&(t.splice(n,1),!0)}).length&&i(t,e)}function l(t,e,n,r){var a=t.indexOf(n=o(n));return a!==-1?!!r||(t.splice(a,1),i(t,e),!1):r!==!1&&(t.push(n),i(t,e),!0)}function s(t,e,n,r){var a=void 0;(n=o(n))&&(r=o(r))&&n!==r&&(a=t.indexOf(n))!==-1&&(t.splice(a,1),t.indexOf(r)===-1&&t.push(r),i(t,e))}function c(t){return!c.ignoreNative&&t.classList||function(){var e=(t.getAttribute("class")||"").trim().split(/\s+/).filter(function(t){return!!t});return{length:e.length,item:function(t){return e[t]},contains:function(t){return e.indexOf(o(t))!==-1},add:function(){r(e,t,Array.prototype.slice.call(arguments))},remove:function(){a(e,t,Array.prototype.slice.call(arguments))},toggle:function(n,o){return l(e,t,n,o)},replace:function(n,o){return s(e,t,n,o)}}}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=c,t.exports=e.default},function(t,e){t.exports='<svg id="plainoverlay-builtin-face-defs" xmlns="http://www.w3.org/2000/svg" version="1.1"><defs><linearGradient id="plainoverlay-builtin-face_01-grad" gradientUnits="userSpaceOnUse" x1="160" y1="20" x2="300" y2="160"><stop offset="0" stop-color="#fff" stop-opacity="0"/><stop offset="0.2" stop-color="#fff" stop-opacity="0.1"/><stop offset="1" stop-color="#fff" stop-opacity="1"/></linearGradient><g id="plainoverlay-builtin-face_01"><circle cx="160" cy="160" r="140"/><path d="M160 20a140 140 0 0 1 140 140" stroke="url(\'#plainoverlay-builtin-face_01-grad\')"/></g></defs></svg>'},function(t,e){t.exports='<svg class="plainoverlay-builtin-face plainoverlay-builtin-face_01" version="1.1" viewBox="0 0 320 320"><use xlink:href="#plainoverlay-builtin-face_01"/></svg>'},function(t,e){t.exports=".plainoverlay,.plainoverlay:not(.plainoverlay-hide) .plainoverlay-builtin-face_01{-webkit-tap-highlight-color:transparent;transform:translateZ(0);box-shadow:0 0 1px transparent}.plainoverlay{-moz-transition-property:opacity;-o-transition-property:opacity;-webkit-transition-property:opacity;transition-property:opacity;-moz-transition-duration:.2s;-o-transition-duration:.2s;-webkit-transition-duration:.2s;transition-duration:.2s;-moz-transition-timing-function:linear;-o-transition-timing-function:linear;-webkit-transition-timing-function:linear;transition-timing-function:linear;opacity:0;position:absolute;left:0;top:0;overflow:hidden;background-color:rgba(136,136,136,.6);cursor:wait;z-index:9000}.plainoverlay.plainoverlay-doc{position:fixed;left:-200px;top:-200px;overflow:visible;padding:200px;width:100vw;height:100vh}.plainoverlay-body{width:100%;height:100%;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.plainoverlay.plainoverlay-doc .plainoverlay-body{width:100vw;height:100vh}.plainoverlay-show{opacity:1}.plainoverlay-hide{display:none}.plainoverlay-builtin-face{width:90%;height:90%;max-width:320px;max-height:320px}#plainoverlay-builtin-face-defs{width:0;height:0;position:fixed;left:-100px;top:-100px}#plainoverlay-builtin-face_01 circle,#plainoverlay-builtin-face_01 path{fill:none;stroke-width:40px}#plainoverlay-builtin-face_01 circle{stroke:#fff;opacity:.25}#plainoverlay-builtin-face_01 path{stroke-linecap:round}.plainoverlay:not(.plainoverlay-hide) .plainoverlay-builtin-face_01{-moz-animation-name:plainoverlay-builtin-face_01-spin;-webkit-animation-name:plainoverlay-builtin-face_01-spin;animation-name:plainoverlay-builtin-face_01-spin;-moz-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;-moz-animation-timing-function:linear;-webkit-animation-timing-function:linear;animation-timing-function:linear;-moz-animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-moz-keyframes plainoverlay-builtin-face_01-spin{from{-moz-transform:rotate(0);transform:rotate(0)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes plainoverlay-builtin-face_01-spin{from{-moz-transform:rotate(0);-ms-transform:rotate(0);-webkit-transform:rotate(0);transform:rotate(0)}to{-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"},function(t,e,n){"use strict";function o(t){setTimeout(()=>{const e=t.parentNode,n=t.nextSibling;e.insertBefore(e.removeChild(t),n)},0)}function i(t,e,n,o){const i=t.style;return(o||Object.keys(e)).forEach(t=>{null!=e[t]&&(n&&null==n[t]&&(n[t]=i[t]),i[t]=e[t],e[t]=null)}),t}function r(t,e,n){return i(t,e,null,n)}function a(t,e){const n=t.getBoundingClientRect(),o={left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height};return e&&(o.left+=e.pageXOffset,o.right+=e.pageXOffset,o.top+=e.pageYOffset,o.bottom+=e.pageYOffset),o}function l(t,e,n,o){if(e){const t=n;return null!=o&&t.scrollTo(o,t.pageYOffset),t.pageXOffset}{const e=t;return null!=o&&(e.scrollLeft=o),e.scrollLeft}}function s(t,e,n,o){if(e){const t=n;return null!=o&&t.scrollTo(t.pageXOffset,o),t.pageYOffset}{const e=t;return null!=o&&(e.scrollTop=o),e.scrollTop}}function c(t,e,n){const o=t.elmTargetBody;let r=o.getBoundingClientRect();if(!(Math.abs(r.width-e)<.5&&Math.abs(r.height-n)<.5)){const a=t.window.getComputedStyle(o,""),l=a.boxSizing,s="border-box"===l?[]:"padding-box"===l?["border"]:["border","padding"],c={border:{width:["borderLeftWidth","borderRightWidth"],height:["borderTopWidth","borderBottomWidth"]},padding:{width:["paddingLeft","paddingRight"],height:["paddingTop","paddingBottom"]}},d=["width","height"].reduce((t,e)=>{return s.forEach(n=>{c[n][e].forEach(n=>{t[e]-=parseFloat(a[n])})}),t},{width:e,height:n});i(o,{width:d.width>0?`${d.width}px`:0,height:d.height>0?`${d.height}px`:0},t.savedStyleTargetBody);const u={};r=o.getBoundingClientRect(),Math.abs(r.width-e)>=.5&&(console.warn(`[resizeTarget] Incorrect width: ${r.width}`+` (expected: ${e} passed: ${d.width})`),u.width=`${d.width-(r.width-e)}px`),r.height!==n&&(console.warn(`[resizeTarget] Incorrect height: ${r.height}`+` (expected: ${n} passed: ${d.height})`),u.height=`${d.height-(r.height-n)}px`),i(o,u,t.savedStyleTargetBody)}}function d(t){const e=t.elmTarget,n=e.clientWidth,o=e.clientHeight;if(J||Q){const e=t.window.getComputedStyle(t.elmTargetBody,""),i=e.writingMode||e["writing-mode"],r=e.direction;return"tb-rl"===i||"bt-rl"===i||"tb-lr"===i||"bt-lr"===i||Q&&("ltr"===r&&("vertical-rl"===i||"vertical-lr"===i)||"rtl"===r&&("vertical-rl"===i||"vertical-lr"===i))?{width:o,height:n}:{width:n,height:o}}return{width:n,height:o}}function u(t,e){function n(e,n,o,i){try{l(e,n,t.window,o),s(e,n,t.window,i)}catch(t){}}return e?t.savedElementsScroll.some(t=>{return t.element===e&&(n(t.element,t.isDoc,t.left,t.top),!0)}):(t.savedElementsScroll.forEach(t=>{n(t.element,t.isDoc,t.left,t.top)}),!0)}function f(t){t.savedElementsAccKeys.forEach(t=>{try{t.tabIndex===!1?t.element.removeAttribute("tabindex"):null!=t.tabIndex&&(t.element.tabIndex=t.tabIndex)}catch(t){}try{t.accessKey&&(t.element.accessKey=t.accessKey)}catch(t){}})}function p(t,e){return!((!t.isDoc||e===e.ownerDocument.body||t.elmOverlay.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)&&(t.isDoc||!(e===t.elmTargetBody||t.elmTargetBody.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)))&&(e.blur?e.blur():e.ownerDocument.body.focus(),!0)}function m(t,e){const n=t.document.createRange(),o=e.rangeCount;n.selectNodeContents(t.elmTargetBody);for(let i=0;i<o;i++){const t=e.getRangeAt(i);if(t.compareBoundaryPoints(Range.START_TO_END,n)>=0&&t.compareBoundaryPoints(Range.END_TO_START,n)<=0)return!0}return!1}function g(t){const e=("getSelection"in window?t.window:t.document).getSelection();return!(!e.rangeCount||!(t.isDoc||(e.containsNode?e.containsNode(t.elmTargetBody,!0):m(t,e))))&&(e.removeAllRanges(),t.document.body.focus(),!0)}function h(t,e){const n="rl-tb"===t||"tb-rl"===t||"bt-rl"===t||"rl-bt"===t;return J&&n||Q&&(n||"rtl"===e&&("horizontal-tb"===t||"vertical-rl"===t)||"ltr"===e&&"vertical-rl"===t)}function w(t,e){const n="bt-rl"===t||"bt-lr"===t||"lr-bt"===t||"rl-bt"===t;return J&&n||Q&&(n||"rtl"===e&&("vertical-lr"===t||"vertical-rl"===t))}function y(t){const e=t.elmTarget,n=t.elmTargetBody,o=n.getBoundingClientRect();let a=d(t),l=-a.width,s=-a.height;if(i(e,{overflow:"hidden"},t.savedStyleTarget),a=d(t),l+=a.width,s+=a.height,l||s){const r=t.window.getComputedStyle(n,"");let a,d;if(J||Q){const t=r.writingMode||r["writing-mode"],e=r.direction;l&&(a=h(t,e)?"marginLeft":"marginRight"),s&&(d=w(t,e)?"marginTop":"marginBottom")}else l&&(a="marginRight"),s&&(d="marginBottom");const f={};return l&&(f[a]=`${parseFloat(r[a])+l}px`),s&&(f[d]=`${parseFloat(r[d])+s}px`),i(n,f,t.savedStyleTargetBody),c(t,o.width,o.height),u(t,e),!0}return r(e,t.savedStyleTarget,["overflow"]),!1}function v(t,e){const n=t.elmTargetBody,o=t.window.getComputedStyle(n,""),r=t.elmOverlay,l=t.window.getComputedStyle(r,""),s=a(r,t.window),c=["Top","Right","Bottom","Left"].reduce((t,e)=>{return t[e.toLowerCase()]=parseFloat(o[`border${e}Width`]),t},{}),d={left:s.left-parseFloat(l.left),top:s.top-parseFloat(l.top)},u={left:`${e.left-d.left+c.left}px`,top:`${e.top-d.top+c.top}px`,width:`${e.width-c.left-c.right}px`,height:`${e.height-c.top-c.bottom}px`},f=/^([\d\.]+)(px|%)$/;[{prop:"TopLeft",hBorder:"left",vBorder:"top"},{prop:"TopRight",hBorder:"right",vBorder:"top"},{prop:"BottomRight",hBorder:"right",vBorder:"bottom"},{prop:"BottomLeft",hBorder:"left",vBorder:"bottom"}].forEach(t=>{const n=D.a.getName(`border${t.prop}Radius`),i=o[n].split(" ");let r=i[0],a=i[1]||i[0],l=f.exec(r);r=l?"px"===l[2]?+l[1]:l[1]*e.width/100:0,l=f.exec(a),a=l?"px"===l[2]?+l[1]:l[1]*e.height/100:0,r-=c[t.hBorder],a-=c[t.vBorder],r>0&&a>0&&(u[n]=`${r}px ${a}px`)}),i(r,u),t.targetBodyBBox=e}function b(t){const e=t.elmTargetBody,n=t.elmOverlay,o=[t.elmTarget];return t.isDoc?(o.push(e),Array.prototype.slice.call(e.childNodes).forEach(t=>{t.nodeType!==Node.ELEMENT_NODE||t===n||A()(t).contains(H)||t.id===q||(o.push(t),Array.prototype.push.apply(o,t.querySelectorAll("*")))})):Array.prototype.push.apply(o,e.querySelectorAll("*")),o}function E(t){t.state=V,t.options.onShow&&t.options.onShow.call(t.ins)}function T(t){A()(t.elmOverlay).add(Y),r(t.elmTarget,t.savedStyleTarget),r(t.elmTargetBody,t.savedStyleTargetBody),t.savedStyleTarget={},t.savedStyleTargetBody={},f(t),t.savedElementsAccKeys=null,t.state=X,t.isDoc&&t.activeElement&&t.activeElement.focus(),t.activeElement=null,setTimeout(function(){u(t),t.savedElementsScroll=null,t.options.onHide&&t.options.onHide.call(t.ins)},0)}function B(t){function e(e,n){function o(e,n){const o=t.window.getComputedStyle(e,""),i=e.nodeName.toLowerCase();return"scroll"===o.overflow||"auto"===o.overflow||"scroll"===o.overflowX||"auto"===o.overflowX||"scroll"===o.overflowY||"auto"===o.overflowY||n&&("visible"===o.overflow||"visible"===o.overflowX||"visible"===o.overflowY)||!n&&("textarea"===i||"select"===i)}const i=[];return e.forEach((e,r)=>{const a=n&&0===r;o(e,a)&&i.push({element:e,isDoc:a,left:l(e,a,t.window),top:s(e,a,t.window)})}),i}function n(t,e){const n=[];return t.forEach((t,o)=>{if(!e||0!==o){const e={},o=t.tabIndex;o!==-1&&(e.element=t,e.tabIndex=!!t.hasAttribute("tabindex")&&o,t.tabIndex=-1);const i=t.accessKey;i&&(e.element=t,e.accessKey=i,t.accessKey=""),e.element&&n.push(e)}}),n}if(1!==t.state&&2!==t.state&&(!t.options.onBeforeShow||t.options.onBeforeShow.call(t.ins)!==!1)){const o=t.elmOverlay;if(0===t.state){const r=b(t);if(window.targetElements=r,A()(o).remove(Y),!t.isDoc){const e=t.elmTargetBody;"inline"===t.window.getComputedStyle(e,"").display&&i(e,{display:"inline-block"},t.savedStyleTargetBody),v(t,a(e,t.window))}if(t.savedElementsScroll=e(r,t.isDoc),t.disabledDocBars=!1,t.isDoc&&t.savedElementsScroll.length&&t.savedElementsScroll[0].isDoc&&(t.disabledDocBars=y(t)),t.savedElementsAccKeys=n(r,t.isDoc),t.activeElement=t.document.activeElement,t.activeElement&&p(t,t.activeElement),g(t),o.offsetWidth,t.filterElements=null,t.options.blur!==!1){const e=D.a.getName("filter"),n=D.a.getValue("filter",`blur(${t.options.blur}px)`);if(n){const r=t.isDoc?Array.prototype.slice.call(t.elmTargetBody.childNodes).filter(t=>t.nodeType===Node.ELEMENT_NODE&&t!==o&&!A()(t).contains(H)&&t.id!==q).map(t=>({element:t,savedStyle:{}})):[{element:t.elmTargetBody,savedStyle:{}}];r.forEach(t=>{const o={};o[e]=n,i(t.element,o,t.savedStyle)}),t.filterElements=r}}t.options.onPosition&&t.options.onPosition.call(t.ins)}A()(o).add(W),t.state=G}}function _(t,e){0!==t.state&&(t.options.onBeforeHide&&t.options.onBeforeHide.call(t.ins)===!1||(t.filterElements&&(t.filterElements.forEach(t=>{r(t.element,t.savedStyle)}),t.filterElements=null),A()(t.elmOverlay).remove(W),e?(t.state=X,T(t)):t.state=Z))}function x(t,e){const n=t.options;if((null==e.face?void 0:e.face)!==n.face){const o=t.elmOverlayBody;for(;o.firstChild;)o.removeChild(o.firstChild);if(e.face===!1)n.face=!1;else if(e.face&&e.face.nodeType===Node.ELEMENT_NODE)n.face=e.face,o.appendChild(e.face);else{const e=t.document;if(!e.getElementById(q)){const n=(new t.window.DOMParser).parseFromString(z.a,"image/svg+xml");e.body.appendChild(n.documentElement)}n.face=void 0,o.innerHTML=M.a}}if(it(e.duration)&&e.duration!==n.duration){const o=t.elmOverlay;n.duration=e.duration,o.style[D.a.getName("transitionDuration")]=200===e.duration?"":`${e.duration}ms`}(it(e.blur)||e.blur===!1)&&(n.blur=e.blur),ot(e.style)&&i(t.elmOverlay,e.style),["onShow","onHide","onBeforeShow","onBeforeHide","onPosition"].forEach(t=>{"function"==typeof e[t]&&(n[t]=e[t])})}function S(t,e,n,o){let i,r;if(e){const n=b(t);if(n.indexOf(e)===-1)return r;i="html"===e.nodeName.toLowerCase()}else e=t.elmTarget,i=t.isDoc;const a=null!=o&&t.savedElementsScroll&&(t.savedElementsScroll.find?t.savedElementsScroll.find(t=>t.element===e):(t=>{let n;return t.some(t=>{return t.element===e&&(n=t,!0)}),n})(t.savedElementsScroll));return r=(n?l:s)(e,i,t.window,o),a&&(a[n?"left":"top"]=r),r}Object.defineProperty(e,"__esModule",{value:!0});var O=n(1),D=n.n(O),N=n(0),C=n.n(N),P=n(2),A=n.n(P),k=n(5),L=n.n(k),I=n(3),z=n.n(I),R=n(4),M=n.n(R);const j="plainoverlay",F=`${j}-style`,H=j,K=`${j}-doc`,W=`${j}-show`,Y=`${j}-hide`,U=`${j}-body`,q=`${j}-builtin-face-defs`,X=0,G=1,V=2,Z=3,$=200,J=!!document.uniqueID,Q="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,tt=!window.chrome&&"WebkitAppearance"in document.documentElement.style,et=!(!window.chrome||!window.chrome.webstore),nt="MozAppearance"in document.documentElement.style,ot=(()=>{const t={}.toString,e={}.hasOwnProperty.toString,n=e.call(Object);return o=>{let i,r;return o&&"[object Object]"===t.call(o)&&(!(i=Object.getPrototypeOf(o))||(r=i.hasOwnProperty("constructor")&&i.constructor)&&"function"==typeof r&&e.call(r)===n)}})(),it=Number.isFinite||(t=>"number"==typeof t&&window.isFinite(t)),rt={};let at=0;window.insProps=rt,window.IS_TRIDENT=J,window.IS_EDGE=Q,window.IS_WEBKIT=tt,window.IS_BLINK=et,window.IS_GECKO=nt,window.forceReflow=o,window.getBBox=a,window.scrollLeft=l,window.scrollTop=s,window.resizeTarget=c,window.getDocClientWH=d,window.restoreAccKeys=f,window.selectionContainsNode=m,window.barLeft=h,window.barTop=w,window.disableDocBars=y,window.position=v;class lt{constructor(t,e){function n(t){let e;if(t)if(t.nodeType){if(t.nodeType===Node.DOCUMENT_NODE)e=t.documentElement;else if(t.nodeType===Node.ELEMENT_NODE){const n=t.nodeName.toLowerCase();e="body"===n?t.ownerDocument.documentElement:"iframe"===n||"frame"===n?t.contentDocument.documentElement:t}if(!e)throw new Error("This element is not accepted.")}else t===t.window&&(e=t.document.documentElement);else e=document.documentElement;return e}const i={ins:this,options:{face:{},duration:$,blur:!1},state:X,savedStyleTarget:{},savedStyleTargetBody:{}};if(Object.defineProperty(this,"_id",{value:++at}),i._id=this._id,rt[this._id]=i,1===arguments.length){if(!(i.elmTarget=n(t))){if(!ot(t))throw new Error("Invalid argument.");i.elmTarget=document.documentElement,e=t}}else{if(!(i.elmTarget=n(t)))throw new Error("This target is not accepted.");if(e&&!ot(e))throw new Error("Invalid options.")}i.isDoc="html"===i.elmTarget.nodeName.toLowerCase();const l=i.document=i.elmTarget.ownerDocument;i.window=l.defaultView;const s=i.elmTargetBody=i.isDoc?l.body:i.elmTarget;if(!l.getElementById(F)){const t=l.getElementsByTagName("head")[0]||l.documentElement,e=t.insertBefore(l.createElement("style"),t.firstChild);e.type="text/css",e.id=F,e.textContent=L.a,(J||Q)&&o(e)}const c=i.elmOverlay=l.createElement("div");A()(c).add(H,Y),i.isDoc&&A()(c).add(K),(t=>{["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend"].forEach(e=>{c.addEventListener(e,t,!0)})})(t=>{t.target===c&&"opacity"===t.propertyName&&(1===i.state?E(i):3===i.state&&T(i))}),(i.isDoc?i.window:s).addEventListener("scroll",t=>{const e=t.target;0!==i.state&&u(i,!i.isDoc||e!==i.window&&e!==i.document&&e!==i.elmTargetBody?e:i.elmTarget)&&(console.log("avoidScroll"),t.preventDefault(),t.stopImmediatePropagation())},!0),s.addEventListener("focus",t=>{0!==i.state&&p(i,t.target)&&(console.log("avoidFocus"),t.preventDefault(),t.stopImmediatePropagation())},!0),(t=>{["keyup","mouseup"].forEach(e=>{s.addEventListener(e,t,!0)})})(t=>{0!==i.state&&g(i)&&(console.log("avoidSelect"),t.preventDefault(),t.stopImmediatePropagation())}),i.resizing=!1,i.window.addEventListener("resize",C.a.add(()=>{if(i.resizing)return void console.log("`resize` event listener is already running.");if(i.resizing=!0,0!==i.state){if(i.isDoc)i.savedElementsScroll.length&&i.savedElementsScroll[0].isDoc&&(i.disabledDocBars&&(console.log("Restore DocBars"),r(i.elmTarget,i.savedStyleTarget,["overflow"]),r(s,i.savedStyleTargetBody,["marginLeft","marginRight","marginTop","marginBottom","width","height"])),console.log("disableDocBars"),i.disabledDocBars=y(i));else{const t=a(s,i.window),e=i.targetBodyBBox;t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height||(console.log("Update position"),v(i,t))}i.options.onPosition&&i.options.onPosition.call(i.ins)}i.resizing=!1}),!0),c.addEventListener("touchmove",t=>{0!==i.state&&(t.preventDefault(),t.stopImmediatePropagation())},!0),(i.elmOverlayBody=c.appendChild(l.createElement("div"))).className=U,l.body.appendChild(c),x(i,e||{})}setOptions(t){return ot(t)&&x(rt[this._id],t),this}show(t){return this.setOptions(t),B(rt[this._id]),this}hide(t){return _(rt[this._id],t),this}scrollLeft(t,e){return S(rt[this._id],e,!0,t)}scrollTop(t,e){return S(rt[this._id],e,!1,t)}position(){const t=rt[this._id];return 0!==t.state&&(t.isDoc||v(t,a(t.elmTargetBody,t.window)),t.options.onPosition&&t.options.onPosition.call(t.ins)),this}get state(){return rt[this._id].state}get style(){return rt[this._id].elmOverlay.style}get face(){return rt[this._id].options.face}set face(t){x(rt[this._id],{face:t})}get duration(){return rt[this._id].options.duration}set duration(t){x(rt[this._id],{duration:t})}get blur(){return rt[this._id].options.blur}set blur(t){x(rt[this._id],{blur:t})}get onShow(){return rt[this._id].options.onShow}set onShow(t){x(rt[this._id],{onShow:t})}get onHide(){return rt[this._id].options.onHide}set onHide(t){x(rt[this._id],{onHide:t})}get onBeforeShow(){return rt[this._id].options.onBeforeShow}set onBeforeShow(t){x(rt[this._id],{onBeforeShow:t})}get onBeforeHide(){return rt[this._id].options.onBeforeHide}set onBeforeHide(t){x(rt[this._id],{onBeforeHide:t})}get onPosition(){return rt[this._id].options.onPosition}set onPosition(t){x(rt[this._id],{onPosition:t})}static show(t,e){return new lt(t,e).show()}static get STATE_HIDDEN(){return X}static get STATE_SHOWING(){return G}static get STATE_SHOWN(){return V}static get STATE_HIDING(){return Z}}e.default=lt}])});