/*! PlainOverlay v1.4.10 (c) anseki https://anseki.github.io/plain-overlay/ */
var PlainOverlay=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){t.exports='<svg class="plainoverlay-builtin-face plainoverlay-builtin-face_01" version="1.1" viewBox="0 0 320 320"><use xlink:href="#plainoverlay-builtin-face_01"/></svg>'},function(t,e){t.exports='<svg id="plainoverlay-builtin-face-defs" xmlns="http://www.w3.org/2000/svg" version="1.1"><defs><linearGradient id="plainoverlay-builtin-face_01-grad" gradientUnits="userSpaceOnUse" x1="160" y1="20" x2="300" y2="160"><stop offset="0" stop-color="#fff" stop-opacity="0"/><stop offset="0.2" stop-color="#fff" stop-opacity="0.1"/><stop offset="1" stop-color="#fff" stop-opacity="1"/></linearGradient><g id="plainoverlay-builtin-face_01"><circle cx="160" cy="160" r="140"/><path d="M160 20a140 140 0 0 1 140 140" stroke="url(\'#plainoverlay-builtin-face_01-grad\')"/></g></defs></svg>'},function(t,e){t.exports=".plainoverlay,.plainoverlay:not(.plainoverlay-hide) .plainoverlay-builtin-face_01{-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);box-shadow:0 0 1px rgba(0,0,0,0)}.plainoverlay{position:absolute;left:0;top:0;overflow:hidden;background-color:rgba(136,136,136,0.6);cursor:wait;z-index:9000;-webkit-transition-property:opacity;-moz-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:200ms;-moz-transition-duration:200ms;-o-transition-duration:200ms;transition-duration:200ms;-webkit-transition-timing-function:linear;-moz-transition-timing-function:linear;-o-transition-timing-function:linear;transition-timing-function:linear;opacity:0}.plainoverlay.plainoverlay-show{opacity:1}.plainoverlay.plainoverlay-force{-webkit-transition-property:none;-moz-transition-property:none;-o-transition-property:none;transition-property:none}.plainoverlay.plainoverlay-hide{display:none}.plainoverlay.plainoverlay-doc{position:fixed;left:-200px;top:-200px;overflow:visible;padding:200px;width:100vw;height:100vh}.plainoverlay-body{width:100%;height:100%;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.plainoverlay.plainoverlay-doc .plainoverlay-body{width:100vw;height:100vh}.plainoverlay-builtin-face{width:90%;height:90%;max-width:320px;max-height:320px}#plainoverlay-builtin-face-defs{width:0;height:0;position:fixed;left:-100px;top:-100px}#plainoverlay-builtin-face_01 circle,#plainoverlay-builtin-face_01 path{fill:none;stroke-width:40px}#plainoverlay-builtin-face_01 circle{stroke:#fff;opacity:0.25}#plainoverlay-builtin-face_01 path{stroke-linecap:round}.plainoverlay:not(.plainoverlay-hide) .plainoverlay-builtin-face_01{-webkit-animation-name:plainoverlay-builtin-face_01-spin;-moz-animation-name:plainoverlay-builtin-face_01-spin;-ms-animation-name:plainoverlay-builtin-face_01-spin;-o-animation-name:plainoverlay-builtin-face_01-spin;animation-name:plainoverlay-builtin-face_01-spin;-webkit-animation-duration:1s;-moz-animation-duration:1s;-ms-animation-duration:1s;-o-animation-duration:1s;animation-duration:1s;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear;-ms-animation-timing-function:linear;-o-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;-moz-animation-iteration-count:infinite;-ms-animation-iteration-count:infinite;-o-animation-iteration-count:infinite;animation-iteration-count:infinite}@-moz-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-ms-keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes plainoverlay-builtin-face_01-spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"},function(t,e,n){"use strict";function o(t){return t.substr(0,1).toUpperCase()+t.substr(1)}n.r(e);var i,r,a,s,l=["webkit","moz","ms","o"],d=l.reduce(function(t,e){return t.push(e),t.push(o(e)),t},[]),u=l.map(function(t){return"-"+t+"-"}),c=(s=void 0,function(){return s=s||document.createElement("div").style}),f=(r=new RegExp("^(?:"+l.join("|")+")(.)","i"),a=/[A-Z]/,function(t){return"float"===(t=(t+"").replace(/\s/g,"").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}).replace(r,function(t,e){return a.test(e)?e.toLowerCase():t})).toLowerCase()?"cssFloat":t}),m=(i=new RegExp("^(?:"+u.join("|")+")","i"),function(t){return(null!=t?t+"":"").replace(/\s/g,"").replace(i,"")}),p=function(t,e){var n=c();return t=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}),n.setProperty(t,e),null!=n[t]&&n.getPropertyValue(t)===e},g={},y={};function h(t){if((t=f(t))&&null==g[t]){var e=c();if(null!=e[t])g[t]=t;else{var n=o(t);d.some(function(o){var i=o+n;return null!=e[i]&&(g[t]=i,!0)})||(g[t]=!1)}}return g[t]||void 0}var v={getName:h,getValue:function(t,e){var n=void 0;return(t=h(t))?(y[t]=y[t]||{},(Array.isArray(e)?e:[e]).some(function(e){return e=m(e),null!=y[t][e]?!1!==y[t][e]&&(n=y[t][e],!0):p(t,e)?(n=y[t][e]=e,!0):!!u.some(function(o){var i=o+e;return!!p(t,i)&&(n=y[t][e]=i,!0)})||(y[t][e]=!1,!1)}),"string"==typeof n?n:void 0):n}},w=500,b=[],T=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},E=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return clearTimeout(t)},O=void 0,_=Date.now();function S(){var t=void 0,e=void 0;O&&(E.call(window,O),O=null),b.forEach(function(e){e.event&&(e.listener(e.event),e.event=null,t=!0)}),t?(_=Date.now(),e=!0):Date.now()-_<w&&(e=!0),e&&(O=T.call(window,S))}function B(t){var e=-1;return b.some(function(n,o){return n.listener===t&&(e=o,!0)}),e}var k={add:function(t){var e=void 0;return-1===B(t)?(b.push(e={listener:t}),function(t){e.event=t,O||S()}):null},remove:function(t){var e;(e=B(t))>-1&&(b.splice(e,1),!b.length&&O&&(E.call(window,O),O=null))}};function D(t){return(t+"").trim()}function x(t,e){e.setAttribute("class",t.join(" "))}function N(t){return!N.ignoreNative&&t.classList||(e=(t.getAttribute("class")||"").trim().split(/\s+/).filter(function(t){return!!t}),n={length:e.length,item:function(t){return e[t]},contains:function(t){return-1!==e.indexOf(D(t))},add:function(){return function(t,e,n){n.filter(function(e){return!(!(e=D(e))||-1!==t.indexOf(e)||(t.push(e),0))}).length&&x(t,e)}(e,t,Array.prototype.slice.call(arguments)),N.methodChain?n:void 0},remove:function(){return function(t,e,n){n.filter(function(e){var n=void 0;return!(!(e=D(e))||-1===(n=t.indexOf(e))||(t.splice(n,1),0))}).length&&x(t,e)}(e,t,Array.prototype.slice.call(arguments)),N.methodChain?n:void 0},toggle:function(n,o){return function(t,e,n,o){var i=t.indexOf(n=D(n));return-1!==i?!!o||(t.splice(i,1),x(t,e),!1):!1!==o&&(t.push(n),x(t,e),!0)}(e,t,n,o)},replace:function(o,i){return function(t,e,n,o){var i=void 0;(n=D(n))&&(o=D(o))&&n!==o&&-1!==(i=t.indexOf(n))&&(t.splice(i,1),-1===t.indexOf(o)&&t.push(o),x(t,e))}(e,t,o,i),N.methodChain?n:void 0}});var e,n}N.methodChain=!0;var P=N,C=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var A,R,L,I=0,z=1,F=2,M="timedTransitionRun",j="timedTransitionStart",H="timedTransitionEnd",Y="timedTransitionCancel",K="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,W=(A={}.toString,R={}.hasOwnProperty.toString,L=R.call(Object),function(t){var e=void 0,n=void 0;return t&&"[object Object]"===A.call(t)&&(!(e=Object.getPrototypeOf(t))||(n=e.hasOwnProperty("constructor")&&e.constructor)&&"function"==typeof n&&R.call(n)===L)}),U=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},q={},X=0;function G(t,e){var n=(Math.min(Math.max(-t.delay,0),t.duration)+(e!==H&&e!==Y||!t.startTime?0:Date.now()-t.startTime))/1e3,o=void 0;try{o=new t.window.TransitionEvent(e,{propertyName:t.options.property,pseudoElement:t.options.pseudoElement,elapsedTime:n,bubbles:!0,cancelable:!1}),K&&(o.pseudoElement=t.options.pseudoElement)}catch(i){(o=t.window.document.createEvent("TransitionEvent")).initTransitionEvent(e,!0,!1,t.options.property,n),o.pseudoElement=t.options.pseudoElement}o.timedTransition=t.ins,t.element.dispatchEvent(o)}function V(t){if(t.state===F){var e=Date.now()-t.startTime;t.currentPosition=t.isOn?Math.min(t.currentPosition+e,t.duration):Math.max(t.currentPosition-e,0)}}function Z(t){t.state=I,t.runTime=0,t.startTime=0,t.currentPosition=t.isOn?t.duration:0}function $(t){t.state===F&&(t.state=I,G(t,H),Z(t))}function J(t){if(t.state===z){t.state=F,t.startTime=Date.now(),t.isReversing=!t.isOn,G(t,j);var e=t.isOn?t.duration-t.currentPosition:t.currentPosition;e>0?t.timer=setTimeout(function(){$(t)},e):$(t)}}function Q(t){clearTimeout(t.timer),t.state!==I&&(t.state=I,G(t,Y))}function tt(t,e){var n=t.options;function o(n){var o="number"==typeof e[n]?(t.window.getComputedStyle(t.element,"")[v.getName("transition-"+n)]||"").split(",")[e[n]]:e[n];return"string"==typeof o?o.trim():null}"string"==typeof e.pseudoElement&&(n.pseudoElement=e.pseudoElement);var i=o("property");"string"==typeof i&&"all"!==i&&"none"!==i&&(n.property=i),["duration","delay"].forEach(function(e){var i=o(e);if("string"==typeof i){var r=void 0,a=void 0;/^[0\.]+$/.test(i)?(n[e]="0s",t[e]=0):(r=/^(.+?)(m)?s$/.exec(i))&&U(a=parseFloat(r[1]))&&("duration"!==e||a>=0)&&(n[e]=""+a+(r[2]||"")+"s",t[e]=a*(r[2]?1:1e3))}}),["procToOn","procToOff"].forEach(function(t){"function"==typeof e[t]?n[t]=e[t]:e.hasOwnProperty(t)&&null==e[t]&&(n[t]=void 0)})}var et=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i={ins:this,options:{pseudoElement:"",property:""},duration:0,delay:0,isOn:!!o};if(Object.defineProperty(this,"_id",{value:++X}),i._id=this._id,q[this._id]=i,!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)throw new Error("This `element` is not accepted.");if(i.element=e,i.window=e.ownerDocument.defaultView,n){if(!W(n))throw new Error("Invalid options.")}else n={};n.hasOwnProperty("property")||(n.property=0),n.hasOwnProperty("duration")||(n.duration=0),n.hasOwnProperty("delay")||(n.delay=0),tt(i,n),Z(i)}return C(t,[{key:"setOptions",value:function(t){return W(t)&&tt(q[this._id],t),this}},{key:"on",value:function(t,e){return arguments.length<2&&"boolean"!=typeof t&&(e=t,t=!1),this.setOptions(e),function(t,e){t.isOn&&t.state===I||t.isOn&&t.state!==I&&!e||(t.options.procToOn&&t.options.procToOn.call(t.ins,!!e),e||!t.isOn&&t.state===z||-t.delay>t.duration?(Q(t),t.isOn=!0,Z(t)):(V(t),Q(t),t.state=z,t.isOn=!0,t.runTime=Date.now(),t.startTime=0,G(t,M),t.delay>0?t.timer=setTimeout(function(){J(t)},t.delay):(t.delay<0&&(t.currentPosition=Math.min(t.currentPosition-t.delay,t.duration)),J(t))))}(q[this._id],t),this}},{key:"off",value:function(t){return function(t,e){!t.isOn&&t.state===I||!t.isOn&&t.state!==I&&!e||(t.options.procToOff&&t.options.procToOff.call(t.ins,!!e),e||t.isOn&&t.state===z||-t.delay>t.duration?(Q(t),t.isOn=!1,Z(t)):(V(t),Q(t),t.state=z,t.isOn=!1,t.runTime=Date.now(),t.startTime=0,G(t,M),t.delay>0?t.timer=setTimeout(function(){J(t)},t.delay):(t.delay<0&&(t.currentPosition=Math.max(t.currentPosition+t.delay,0)),J(t))))}(q[this._id],t),this}},{key:"state",get:function(){return q[this._id].state}},{key:"element",get:function(){return q[this._id].element}},{key:"isReversing",get:function(){return q[this._id].isReversing}},{key:"pseudoElement",get:function(){return q[this._id].options.pseudoElement},set:function(t){tt(q[this._id],{pseudoElement:t})}},{key:"property",get:function(){return q[this._id].options.property},set:function(t){tt(q[this._id],{property:t})}},{key:"duration",get:function(){return q[this._id].options.duration},set:function(t){tt(q[this._id],{duration:t})}},{key:"delay",get:function(){return q[this._id].options.delay},set:function(t){tt(q[this._id],{delay:t})}},{key:"procToOn",get:function(){return q[this._id].options.procToOn},set:function(t){tt(q[this._id],{procToOn:t})}},{key:"procToOff",get:function(){return q[this._id].options.procToOff},set:function(t){tt(q[this._id],{procToOff:t})}}],[{key:"STATE_STOPPED",get:function(){return I}},{key:"STATE_DELAYING",get:function(){return z}},{key:"STATE_PLAYING",get:function(){return F}}]),t}(),nt=n(2),ot=n.n(nt),it=n(1),rt=n.n(it),at=n(0),st=n.n(at),lt=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();P.ignoreNative=!0;var dt="plainoverlay",ut=dt+"-style",ct=dt,ft=dt+"-doc",mt=dt+"-show",pt=dt+"-hide",gt=dt+"-force",yt=dt+"-body",ht=dt+"-builtin-face-defs",vt=0,wt=1,bt=2,Tt=3,Et=200,Ot=.5,_t=!!document.uniqueID,St="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,Bt=!(!window.chrome||!window.chrome.webstore),kt=function(){var t={}.toString,e={}.hasOwnProperty.toString,n=e.call(Object);return function(o){var i=void 0,r=void 0;return o&&"[object Object]"===t.call(o)&&(!(i=Object.getPrototypeOf(o))||(r=i.hasOwnProperty("constructor")&&i.constructor)&&"function"==typeof r&&e.call(r)===n)}}(),Dt=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},xt={},Nt=0;function Pt(t,e,n,o){var i=t.style;return(o||Object.keys(e)).forEach(function(t){null!=e[t]&&(n&&null==n[t]&&(n[t]=i[t]),i[t]=e[t],e[t]=null)}),t}function Ct(t,e,n){return Pt(t,e,null,n)}function At(t,e){var n=t.getBoundingClientRect(),o={left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height};return e&&(o.left+=e.pageXOffset,o.right+=e.pageXOffset,o.top+=e.pageYOffset,o.bottom+=e.pageYOffset),o}function Rt(t,e,n,o){return e?(null!=o&&n.scrollTo(o,n.pageYOffset),n.pageXOffset):(null!=o&&(t.scrollLeft=o),t.scrollLeft)}function Lt(t,e,n,o){return e?(null!=o&&n.scrollTo(n.pageXOffset,o),n.pageYOffset):(null!=o&&(t.scrollTop=o),t.scrollTop)}function It(t){var e=t.elmTarget,n=e.clientWidth,o=e.clientHeight;if(_t||St){var i=t.window.getComputedStyle(t.elmTargetBody,""),r=i.writingMode||i["writing-mode"],a=i.direction;return"tb-rl"===r||"bt-rl"===r||"tb-lr"===r||"bt-lr"===r||St&&("ltr"===a&&("vertical-rl"===r||"vertical-lr"===r)||"rtl"===a&&("vertical-rl"===r||"vertical-lr"===r))?{width:o,height:n}:{width:n,height:o}}return{width:n,height:o}}function zt(t,e){function n(e,n,o,i){try{Rt(e,n,t.window,o),Lt(e,n,t.window,i)}catch(t){}}return e?t.savedElementsScroll.some(function(t){return t.element===e&&(n(t.element,t.isDoc,t.left,t.top),!0)}):(t.savedElementsScroll.forEach(function(t){n(t.element,t.isDoc,t.left,t.top)}),!0)}function Ft(t,e){return!((!t.isDoc||e===e.ownerDocument.body||t.elmOverlay.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)&&(t.isDoc||!(e===t.elmTargetBody||t.elmTargetBody.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)))&&(e.blur?e.blur():e.ownerDocument.body.focus(),!0)}function Mt(t){var e=("getSelection"in window?t.window:t.document).getSelection();if(e.rangeCount&&(t.isDoc?!function(t,e){var n=t.ownerDocument.createRange(),o=e.rangeCount;n.selectNode(t);for(var i=0;i<o;i++){var r=e.getRangeAt(i);if(r.compareBoundaryPoints(Range.START_TO_START,n)<0||r.compareBoundaryPoints(Range.END_TO_END,n)>0)return!1}return!0}(t.elmOverlayBody,e):!e.containsNode||Bt&&e.isCollapsed?function(t,e,n){var o=e.ownerDocument.createRange(),i=t.rangeCount;o.selectNodeContents(e);for(var r=0;r<i;r++){var a=t.getRangeAt(r);if(!a.toString().length&&t.toString().length&&1===i&&(a.setStart(t.anchorNode,t.anchorOffset),a.setEnd(t.focusNode,t.focusOffset),a.toString()!==t.toString()&&(a.setStart(t.focusNode,t.focusOffset),a.setEnd(t.anchorNode,t.anchorOffset),a.toString()!==t.toString())))throw new Error("Edge bug (Issue #7321753); Couldn't recover");if(n?a.compareBoundaryPoints(Range.START_TO_END,o)>=0&&a.compareBoundaryPoints(Range.END_TO_START,o)<=0:a.compareBoundaryPoints(Range.START_TO_START,o)<0&&a.compareBoundaryPoints(Range.END_TO_END,o)>0)return!0}return!1}(e,t.elmTargetBody,!0):e.containsNode(t.elmTargetBody,!0))){try{e.removeAllRanges()}catch(t){}if(t.document.body.focus(),e.rangeCount>0)try{e.removeAllRanges()}catch(t){}return!0}return!1}function jt(t){var e=t.elmTarget,n=t.elmTargetBody,o=n.getBoundingClientRect(),i=It(t),r=-i.width,a=-i.height;if(Pt(e,{overflow:"hidden"},t.savedStyleTarget),r+=(i=It(t)).width,a+=i.height,r||a){var s=t.window.getComputedStyle(n,""),l=void 0,d=void 0;if(_t||St){var u=s.writingMode||s["writing-mode"],c=s.direction;r&&(l=function(t,e){var n="rl-tb"===t||"tb-rl"===t||"bt-rl"===t||"rl-bt"===t;return _t&&n||St&&(n||"rtl"===e&&("horizontal-tb"===t||"vertical-rl"===t)||"ltr"===e&&"vertical-rl"===t)}(u,c)?"marginLeft":"marginRight"),a&&(d=function(t,e){var n="bt-rl"===t||"bt-lr"===t||"lr-bt"===t||"rl-bt"===t;return _t&&n||St&&(n||"rtl"===e&&("vertical-lr"===t||"vertical-rl"===t))}(u,c)?"marginTop":"marginBottom")}else r&&(l="marginRight"),a&&(d="marginBottom");var f={};return r&&(f[l]=parseFloat(s[l])+r+"px"),a&&(f[d]=parseFloat(s[d])+a+"px"),Pt(n,f,t.savedStyleTargetBody),function(t,e,n){var o=t.elmTargetBody,i=o.getBoundingClientRect();if(!(Math.abs(i.width-e)<Ot&&Math.abs(i.height-n)<Ot)){var r=t.window.getComputedStyle(o,""),a=r.boxSizing,s="border-box"===a?[]:"padding-box"===a?["border"]:["border","padding"],l={border:{width:["borderLeftWidth","borderRightWidth"],height:["borderTopWidth","borderBottomWidth"]},padding:{width:["paddingLeft","paddingRight"],height:["paddingTop","paddingBottom"]}},d=["width","height"].reduce(function(t,e){return s.forEach(function(n){l[n][e].forEach(function(n){t[e]-=parseFloat(r[n])})}),t},{width:e,height:n});Pt(o,{width:d.width>0?d.width+"px":0,height:d.height>0?d.height+"px":0},t.savedStyleTargetBody);var u={};i=o.getBoundingClientRect(),Math.abs(i.width-e)>=Ot&&(u.width=d.width-(i.width-e)+"px"),i.height!==n&&(u.height=d.height-(i.height-n)+"px"),Pt(o,u,t.savedStyleTargetBody)}}(t,o.width,o.height),zt(t,e),!0}return Ct(e,t.savedStyleTarget,["overflow"]),!1}function Ht(t,e){var n=t.elmTargetBody,o=t.window.getComputedStyle(n,""),i=t.elmOverlay,r=t.window.getComputedStyle(i,""),a=At(i,t.window),s=["Top","Right","Bottom","Left"].reduce(function(t,e){return t[e.toLowerCase()]=parseFloat(o["border"+e+"Width"]),t},{}),l=a.left-parseFloat(r.left),d=a.top-parseFloat(r.top),u={left:e.left-l+s.left+"px",top:e.top-d+s.top+"px",width:e.width-s.left-s.right+"px",height:e.height-s.top-s.bottom+"px"},c=/^([\d.]+)(px|%)$/;[{prop:"TopLeft",hBorder:"left",vBorder:"top"},{prop:"TopRight",hBorder:"right",vBorder:"top"},{prop:"BottomRight",hBorder:"right",vBorder:"bottom"},{prop:"BottomLeft",hBorder:"left",vBorder:"bottom"}].forEach(function(t){var n=v.getName("border"+t.prop+"Radius"),i=o[n].split(" "),r=i[0],a=i[1]||i[0],l=c.exec(r);r=l?"px"===l[2]?+l[1]:l[1]*e.width/100:0,a=(l=c.exec(a))?"px"===l[2]?+l[1]:l[1]*e.height/100:0,r-=s[t.hBorder],a-=s[t.vBorder],r>0&&a>0&&(u[n]=r+"px "+a+"px")}),Pt(i,u),t.targetBodyBBox=e}function Yt(t){var e=t.elmTargetBody,n=t.elmOverlay,o=[t.elmTarget];return t.isDoc?(o.push(e),Array.prototype.slice.call(e.childNodes).forEach(function(t){t.nodeType!==Node.ELEMENT_NODE||t===n||P(t).contains(ct)||t.id===ht||(o.push(t),Array.prototype.push.apply(o,t.querySelectorAll("*")))})):Array.prototype.push.apply(o,e.querySelectorAll("*")),o}function Kt(t){if(t.filterElements=null,!1!==t.options.blur){var e=v.getName("filter"),n=v.getValue("filter","blur("+t.options.blur+"px)");if(n){var o=t.isDoc?Array.prototype.slice.call(t.elmTargetBody.childNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE&&e!==t.elmOverlay&&!P(e).contains(ct)&&e.id!==ht}).map(function(t){return{element:t,savedStyle:{}}}):[{element:t.elmTargetBody,savedStyle:{}}];o.forEach(function(t){var o={};o[e]=n,Pt(t.element,o,t.savedStyle)}),t.filterElements=o}}t.state=bt,t.options.onShow&&t.options.onShow.call(t.ins)}function Wt(t){if(P(t.elmOverlay).add(pt),Ct(t.elmTarget,t.savedStyleTarget),Ct(t.elmTargetBody,t.savedStyleTargetBody),t.savedStyleTarget={},t.savedStyleTargetBody={},function(t){t.savedElementsAccKeys.forEach(function(t){try{!1===t.tabIndex?t.element.removeAttribute("tabindex"):null!=t.tabIndex&&(t.element.tabIndex=t.tabIndex)}catch(t){}try{t.accessKey&&(t.element.accessKey=t.accessKey)}catch(t){}})}(t),t.savedElementsAccKeys=[],t.isDoc&&t.activeElement){var e=t.state;t.state=vt,t.elmTargetBody.removeEventListener("focus",t.focusListener,!0),t.activeElement.focus(),t.state=e}t.activeElement=null,t.timerRestoreAndFinish&&(clearTimeout(t.timerRestoreAndFinish),t.timerRestoreAndFinish=null),t.timerRestoreAndFinish=setTimeout(function(){t.timerRestoreAndFinish=null,t.state=vt,t.elmTargetBody.addEventListener("focus",t.focusListener,!0),zt(t),t.savedElementsScroll=null,t.options.onHide&&t.options.onHide.call(t.ins)},0)}function Ut(t,e){if(!(t.state===bt||t.state===wt&&!e||t.state!==wt&&t.options.onBeforeShow&&!1===t.options.onBeforeShow.call(t.ins))){if(t.state===vt){var n=t.elmOverlay,o=P(n);t.document.body.appendChild(n);var i=Yt(t);if(o.remove(pt),!t.isDoc){var r=t.elmTargetBody;"inline"===t.window.getComputedStyle(r,"").display&&Pt(r,{display:"inline-block"},t.savedStyleTargetBody),Ht(t,At(r,t.window))}t.savedElementsScroll=(a=i,s=t.isDoc,l=[],a.forEach(function(e,n){var o=s&&0===n;(function(e,n){var o=t.window.getComputedStyle(e,""),i=e.nodeName.toLowerCase();return"scroll"===o.overflow||"auto"===o.overflow||"scroll"===o.overflowX||"auto"===o.overflowX||"scroll"===o.overflowY||"auto"===o.overflowY||n&&("visible"===o.overflow||"visible"===o.overflowX||"visible"===o.overflowY)||!n&&("textarea"===i||"select"===i)})(e,o)&&l.push({element:e,isDoc:o,left:Rt(e,o,t.window),top:Lt(e,o,t.window)})}),l),t.disabledDocBars=!1,t.isDoc&&t.savedElementsScroll.length&&t.savedElementsScroll[0].isDoc&&(t.disabledDocBars=jt(t)),t.savedElementsAccKeys=function(t,e){var n=[];return t.forEach(function(t,o){if(!e||0!==o){var i={},r=t.tabIndex;-1!==r&&(i.element=t,i.tabIndex=!!t.hasAttribute("tabindex")&&r,t.tabIndex=-1);var a=t.accessKey;a&&(i.element=t,i.accessKey=a,t.accessKey=""),i.element&&n.push(i)}}),n}(i,t.isDoc),t.activeElement=t.document.activeElement,t.activeElement&&Ft(t,t.activeElement),Mt(t),n.offsetWidth,t.options.onPosition&&t.options.onPosition.call(t.ins)}var a,s,l;t.transition.on(e),t.state=wt,e&&Kt(t)}}function qt(t,e){var n=t.options;if(e.hasOwnProperty("face")&&(null==e.face?void 0:e.face)!==n.face){for(var o=t.elmOverlayBody;o.firstChild;)o.removeChild(o.firstChild);if(!1===e.face)n.face=!1;else if(e.face&&e.face.nodeType===Node.ELEMENT_NODE)n.face=e.face,o.appendChild(e.face);else if(null==e.face){var i=t.document;if(!i.getElementById(ht)){var r=(new t.window.DOMParser).parseFromString(rt.a,"image/svg+xml");i.body.appendChild(r.documentElement)}n.face=void 0,o.innerHTML=st.a}}Dt(e.duration)&&e.duration!==n.duration&&(n.duration=e.duration,t.elmOverlay.style[v.getName("transitionDuration")]=e.duration===Et?"":e.duration+"ms",t.transition.duration=e.duration+"ms"),(Dt(e.blur)||!1===e.blur)&&(n.blur=e.blur),kt(e.style)&&Pt(t.elmOverlay,e.style),["onShow","onHide","onBeforeShow","onBeforeHide","onPosition"].forEach(function(t){"function"==typeof e[t]?n[t]=e[t]:e.hasOwnProperty(t)&&null==e[t]&&(n[t]=void 0)})}function Xt(t,e,n,o){var i=void 0,r=void 0;if(e){if(-1===Yt(t).indexOf(e))return r;i="html"===e.nodeName.toLowerCase()}else e=t.elmTarget,i=t.isDoc;var a,s=null!=o&&t.savedElementsScroll&&(t.savedElementsScroll.find?t.savedElementsScroll.find(function(t){return t.element===e}):(a=void 0,t.savedElementsScroll.some(function(t){return t.element===e&&(a=t,!0)}),a));return r=(n?Rt:Lt)(e,i,t.window,o),s&&(s[n?"left":"top"]=r),r}var Gt=function(){function t(e,n){function o(t){var e=void 0;if(t)if(t.nodeType){if(t.nodeType===Node.DOCUMENT_NODE)e=t.documentElement;else if(t.nodeType===Node.ELEMENT_NODE){var n=t.nodeName.toLowerCase();e="body"===n?t.ownerDocument.documentElement:"iframe"===n||"frame"===n?t.contentDocument.documentElement:t}if(!e)throw new Error("This element is not accepted.")}else t===t.window&&(e=t.document.documentElement);else e=document.documentElement;return e}!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i={ins:this,options:{face:!1,duration:Et,blur:!1},state:vt,savedStyleTarget:{},savedStyleTargetBody:{},blockingDisabled:!1};if(Object.defineProperty(this,"_id",{value:++Nt}),i._id=this._id,xt[this._id]=i,1===arguments.length){if(!(i.elmTarget=o(e))){if(!kt(e))throw new Error("Invalid argument.");i.elmTarget=document.documentElement,n=e}}else if(!(i.elmTarget=o(e)))throw new Error("This target is not accepted.");if(n){if(!kt(n))throw new Error("Invalid options.")}else n={};i.isDoc="html"===i.elmTarget.nodeName.toLowerCase();var r=i.document=i.elmTarget.ownerDocument;i.window=r.defaultView;var a=i.elmTargetBody=i.isDoc?r.body:i.elmTarget;if(!r.getElementById(ut)){var s=r.getElementsByTagName("head")[0]||r.documentElement,l=s.insertBefore(r.createElement("style"),s.firstChild);l.type="text/css",l.id=ut,l.textContent=ot.a,(_t||St)&&function(t){setTimeout(function(){var e=t.parentNode,n=t.nextSibling;e.insertBefore(e.removeChild(t),n)},0)}(l)}var d,u=i.elmOverlay=r.createElement("div"),c=P(u);c.add(ct,pt),i.isDoc&&c.add(ft),i.transition=new et(u,{procToOn:function(t){var e=P(u);e.toggle(gt,!!t),e.add(mt)},procToOff:function(t){var e=P(u);e.toggle(gt,!!t),e.remove(mt)},property:"opacity",duration:Et+"ms"}),u.addEventListener("timedTransitionEnd",function(t){t.target===u&&"opacity"===t.propertyName&&(i.state===wt?Kt(i):i.state===Tt&&Wt(i))},!0),(i.isDoc?i.window:a).addEventListener("scroll",function(t){var e=t.target;i.state!==vt&&!i.blockingDisabled&&zt(i,!i.isDoc||e!==i.window&&e!==i.document&&e!==i.elmTargetBody?e:i.elmTarget)&&(t.preventDefault(),t.stopImmediatePropagation())},!0),i.focusListener=function(t){i.state!==vt&&!i.blockingDisabled&&Ft(i,t.target)&&(t.preventDefault(),t.stopImmediatePropagation())},a.addEventListener("focus",i.focusListener,!0),d=function(t){i.state!==vt&&!i.blockingDisabled&&Mt(i)&&(t.preventDefault(),t.stopImmediatePropagation())},["keyup","mouseup"].forEach(function(t){i.window.addEventListener(t,d,!0)}),i.resizing=!1,i.window.addEventListener("resize",k.add(function(){if(!i.resizing){if(i.resizing=!0,i.state!==vt){if(i.isDoc)i.savedElementsScroll.length&&i.savedElementsScroll[0].isDoc&&(i.disabledDocBars&&(Ct(i.elmTarget,i.savedStyleTarget,["overflow"]),Ct(a,i.savedStyleTargetBody,["marginLeft","marginRight","marginTop","marginBottom","width","height"])),i.disabledDocBars=jt(i));else{var t=At(a,i.window),e=i.targetBodyBBox;t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height||Ht(i,t)}i.options.onPosition&&i.options.onPosition.call(i.ins)}i.resizing=!1}}),!0),u.addEventListener("touchmove",function(t){i.state!==vt&&(t.preventDefault(),t.stopImmediatePropagation())},!0),(i.elmOverlayBody=u.appendChild(r.createElement("div"))).className=yt,r.body.appendChild(u),n.hasOwnProperty("face")||(n.face=null),qt(i,n)}return lt(t,[{key:"setOptions",value:function(t){return kt(t)&&qt(xt[this._id],t),this}},{key:"show",value:function(t,e){return arguments.length<2&&"boolean"!=typeof t&&(e=t,t=!1),this.setOptions(e),Ut(xt[this._id],t),this}},{key:"hide",value:function(t){return function(t,e){if(!(t.state===vt||t.state===Tt&&!e||t.state!==Tt&&t.options.onBeforeHide&&!1===t.options.onBeforeHide.call(t.ins))){t.filterElements&&(t.filterElements.forEach(function(t){Ct(t.element,t.savedStyle)}),t.filterElements=null);var n=t.document.activeElement;n&&n!==n.ownerDocument.body&&t.elmOverlay.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY&&(n.blur?n.blur():n.ownerDocument.body.focus()),t.transition.off(e),t.state=Tt,e&&Wt(t)}}(xt[this._id],t),this}},{key:"scrollLeft",value:function(t,e){return Xt(xt[this._id],e,!0,t)}},{key:"scrollTop",value:function(t,e){return Xt(xt[this._id],e,!1,t)}},{key:"position",value:function(){var t=xt[this._id];return t.state!==vt&&(t.isDoc||Ht(t,At(t.elmTargetBody,t.window)),t.options.onPosition&&t.options.onPosition.call(t.ins)),this}},{key:"state",get:function(){return xt[this._id].state}},{key:"style",get:function(){return xt[this._id].elmOverlay.style}},{key:"blockingDisabled",get:function(){return xt[this._id].blockingDisabled},set:function(t){"boolean"==typeof t&&(xt[this._id].blockingDisabled=t)}},{key:"face",get:function(){return xt[this._id].options.face},set:function(t){qt(xt[this._id],{face:t})}},{key:"duration",get:function(){return xt[this._id].options.duration},set:function(t){qt(xt[this._id],{duration:t})}},{key:"blur",get:function(){return xt[this._id].options.blur},set:function(t){qt(xt[this._id],{blur:t})}},{key:"onShow",get:function(){return xt[this._id].options.onShow},set:function(t){qt(xt[this._id],{onShow:t})}},{key:"onHide",get:function(){return xt[this._id].options.onHide},set:function(t){qt(xt[this._id],{onHide:t})}},{key:"onBeforeShow",get:function(){return xt[this._id].options.onBeforeShow},set:function(t){qt(xt[this._id],{onBeforeShow:t})}},{key:"onBeforeHide",get:function(){return xt[this._id].options.onBeforeHide},set:function(t){qt(xt[this._id],{onBeforeHide:t})}},{key:"onPosition",get:function(){return xt[this._id].options.onPosition},set:function(t){qt(xt[this._id],{onPosition:t})}}],[{key:"show",value:function(e,n){return new t(e,n).show()}},{key:"STATE_HIDDEN",get:function(){return vt}},{key:"STATE_SHOWING",get:function(){return wt}},{key:"STATE_SHOWN",get:function(){return bt}},{key:"STATE_HIDING",get:function(){return Tt}}]),t}();e.default=Gt}]).default;